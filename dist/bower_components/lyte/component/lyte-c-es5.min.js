function ReplaceWith(e){var t=this.parentNode,r=arguments.length,o=+(t&&"object"==typeof e);if(t){for(;r-- >o;)t&&"object"!=typeof arguments[r]&&(arguments[r]=document.createTextNode(arguments[r])),t||!arguments[r].parentNode?t.insertBefore(this.previousSibling,arguments[r]):arguments[r].parentNode.removeChild(arguments[r]);o&&t.replaceChild(this,e)}}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("after")||Object.defineProperty(e,"after",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var r=e instanceof Node;t.appendChild(r?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this.nextSibling)}})}),Element.prototype.replaceWith||(Element.prototype.replaceWith=ReplaceWith),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=ReplaceWith),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=ReplaceWith),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return t<this.length?t|=0:t=this.length,this.substr(t-e.length,e.length)===e});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Lyte={},Lyte.version=1,Lyte.registeredMixins={},Lyte.Mixin={},Lyte.debug=!1,Lyte.performance=!1,Lyte.toBeRegistered=[];var consoleTime=[];function domContentLoaded1(){var e=Lyte.toBeRegistered;if(e.length){for(var t=0;t<e.length;t++)customElements.define(e[t].name,e[t].def);Lyte.toBeRegistered=[]}}Lyte.Mixin.register=function(e,t){Lyte.registeredMixins[e]=t},Lyte.log=function(e,t){Lyte.debug&&console.log((t?"%c":"")+e,"color:"+t)},Lyte.time=function(e){var t;Lyte.performance&&(-1!=(t=consoleTime.indexOf(e))?(consoleTime.splice(t,1),console.timeEnd(e)):(consoleTime.push(e),console.time(e)))},Lyte.isRecord=function(e){return!!(e&&e.$&&e.$.hasOwnProperty("isModified"))},Lyte.isComponent=function(e){return!!(e&&e.$node&&e.__data)},Lyte.injectResources=function(e,t,r){if(e){var o=-(e=Array.isArray(e)?e:[e]).length;e.forEach(function(e){var n,i=e.split("."),a=i[i.length-1];n=document.createElement({js:"script",css:"link"}[a]),1!=i.length?("css"==a?(n.setAttribute("href",e),n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet")):n.setAttribute("src",e),n.onerror=n.onload=function(e){o++,t&&t.call(this,e),r&&0==o&&r()},document.head.appendChild(n)):console.error("Type of file is not specified in injectResources.")})}},Lyte.checkProperty=function(e,t,r,o,n){switch(e){case"type":if(Lyte.Transform.hasOwnProperty(o)){if(Array.isArray(t)){if("array"!=Lyte.Transform[o].extends)return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(Lyte.Transform[o].extends!=(void 0===t?"undefined":_typeof(t)))return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(Array.isArray(t)){if("array"!=o)return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o}}else if(o!=(void 0===t?"undefined":_typeof(t)))return{code:"ERR03",message:Lyte.errorCodes.ERR03,expected:o};break;case"maximum":if("number"==typeof t&&t>o)return{code:"ERR04",message:Lyte.errorCodes.ERR04,expected:o};break;case"minimum":if("number"==typeof t&&t<o)return{code:"ERR05",message:Lyte.errorCodes.ERR05,expected:o};break;case"maxLength":case"maxItems":if(t.length>o)return{code:"ERR06",message:Lyte.errorCodes.ERR06,expected:o};break;case"minLength":case"minItems":if(t.length<o)return{code:"ERR07",message:Lyte.errorCodes.ERR07,expected:o};break;case"pattern":if("string"==typeof t&&!new RegExp(o).test(t))return{code:"ERR08",message:Lyte.errorCodes.ERR08,expected:o};break;case"uniqueItems":if(Array.isArray(t)&&o)for(var i=[],a=0;a<t.length;a++){var s=t[a];if(-1!=i.indexOf(s))return{code:"ERR09",message:Lyte.errorCodes.ERR09};i.push(s)}break;case"constant":if(Array.isArray(t)){if(!(c=t.length==o.length&&t.every(function(e,t){return e===o[t]})))return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o}}else if("object"==(void 0===t?"undefined":_typeof(t))){if(!(c=store.adapter.$.compareObjects(t,o)))return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o}}else if(t!=o)return{code:"ERR10",message:Lyte.errorCodes.ERR10,expected:o};break;case"items":if(Array.isArray(t))for(a=0;a<t.length;a++)for(var e in o){if(1!=(c=Lyte.checkProperty(e,t[a],a,o[e])))return c}break;case"properties":if("object"==(void 0===t?"undefined":_typeof(t))&&!Array.isArray(t))for(var r in t)for(var e in o){if(1!=(c=Lyte.checkProperty(e,t[r],r,o[e])))return c}break;case"validation":var c;if(1!=(c=Lyte.customValidator[o].apply(n,[r,t])))return c}return!0},Lyte.types=["string","object","number","boolean","array"],Lyte.attr=function(e,t){if(void 0==t&&(t={}),-1==this.types.indexOf(e)&&!Lyte.Transform.hasOwnProperty(e))throw new Error("Not a valid field type - "+e);return t.type=e,t},Lyte.defineRelation=function(e,t,r){var o={type:"relation",relType:t,relatedTo:e};return r&&(o.opts=r),o},Lyte.belongsTo=function(e,t){return this.defineRelation(e,"belongsTo",t)},Lyte.hasMany=function(e,t){return this.defineRelation(e,"hasMany",t)},Lyte.Transform={},Lyte.customValidator={},Lyte.registerDataType=function(e,t){if(this.Transform.hasOwnProperty(e))throw new Error("Custom Field Type - "+e+" -  already exists.");if(void 0==t.extends||-1==Lyte.types.indexOf(t.extends))throw new Error("Not a valid field type - "+t.extends);this.Transform[e]=t},Lyte.registerValidator=function(e,t){if(this.customValidator.hasOwnProperty(e))throw new Error("Custom Validator with name - "+e+" - already exists");this.customValidator[e]=t},Lyte.patterns={email:/([A-Za-z0-9._%\-'+/]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,22})$|[\s]+/,url:/(^(ht|f)tp(s?):\/\/[0-9a-zA-Z][-.\w]*(:[0-9])*(\/?)([a-zA-Z0-9\-.?,:'/\\+=&amp;%$#_[\]@!()*;~]*)?$)/,ampm:/^(AM|PM|am|pm)$/,hour:/^(0?[0-9]|1[0-9]|2[0-4])$/,minute:/^(0?[0-9]|[1-5][0-9]|60)$/,boolean:/^(true|false|TRUE|FALSE)$/,alphaNumeric:/([a-zA-Z0-9])+/,alphabetsOnly:/([a-zA-Z])+/,numeric:/([0-9])+/,phoneNo:/^[0-9a-zA-Z+.()\-;\s]+$/},Lyte.validate=function(e,t,r,o){var n=o.__data[t],i=!1;for(var a in n)if(!0!==(i=Lyte.checkProperty(a,r,t,n[a],e)))return i;return!1},Lyte.registerPattern=function(e,t){this.patterns[e]=t},Lyte.errorCodes={ERR01:"Primary key cannot be modified",ERR02:"Mandatory field cannot be empty",ERR03:"Type of value does not match the specified data type",ERR04:"Value is greater than the maximum value allowed",ERR05:"Value is less than the minimum value allowed",ERR06:"Length of string/array is greater than the maximum limit allowed",ERR07:"Length of string/array is less than the minimum limit allowed",ERR08:"String does not match the specified pattern",ERR09:"Values in array are not unique",ERR10:"Value is not equal to the specified constant",ERR11:"Model of related field is not defined",ERR12:"Model of backward relation is not defined",ERR13:"Record not found",ERR14:"Model does not match the related field model",ERR15:"Error in creating a record as a relation",ERR16:"Record with primary key already exists",ERR17:"Value cannot be changed because record has been deleted",ERR18:"Action not defined",ERR19:"Model not defined",ERR20:"Key not specified",ERR21:"'belongsTo' relationship expects a single object/id",ERR22:"Type not specified for polymorphic relation",ERR23:"Primary Key value not present",ERR24:"Error while relating record"},Lyte.registeredGlobalEvents={},Lyte.triggerEvent=function(){var e=Array.prototype.slice.call(arguments,1),t=arguments[0],r=this.registeredGlobalEvents[t];if(r)for(var o=0;o<r.listeners.length;o++){var n=r.listeners[o];n&&n.apply(this,e)}else r=this.registeredGlobalEvents[t]={listeners:[]};var i=new CustomEvent(t,{detail:e});document.dispatchEvent(i)},Lyte.addEventListener=function(e,t){if("function"==typeof t){var r=this.registeredGlobalEvents[e];return r||(r=this.registeredGlobalEvents[e]={listeners:[]}),e+"-"+(r.listeners.push(t)-1)}console.error("Second parameter to LyteComponent.addGlobalEventListener() must be a function")},Lyte.removeEventListener=function(e){if(e){var t=e.split("-"),r=this.registeredGlobalEvents[t[0]];r&&r.listeners[t[1]]?r.listeners[t[1]]=null:console.error("No such listener registered")}else console.error("listener unique id not specified")},Lyte.deepCopyObject=function(e){for(var t,r,o,n,i,a,s=[{source:e,target:Object.create(Object.getPrototypeOf(e))}],c=[e],l=s[0].target,d=[l];t=s.shift();)for(r=Object.getOwnPropertyNames(t.source),o=0;o<r.length;o++)(n=Object.getOwnPropertyDescriptor(t.source,r[o])).value&&"object"==_typeof(n.value)?(i=n.value,n.value=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),-1==(a=c.indexOf(i))?(c.push(i),d.push(n.value),Object.defineProperty(t.target,r[o],n),s.push({source:i,target:n.value})):(n.value=d[a],Object.defineProperty(t.target,r[o],n))):Object.defineProperty(t.target,r[o],n);return l},Lyte.resolvePromises=function(e){if(Array.isArray(e))return function(e){var t=[];return new Promise(function(r,o){Promise.all(e).then(function(o){e.forEach(function(e,r){t[r]=o[r]}),r(t)},function(e){o(e),console.error(e)})})}(e);if("object"==(void 0===e?"undefined":_typeof(e)))return function(e){var t=[],r=[];if(Object.keys(e).forEach(function(o){t.push(o),r.push(e[o])}),r.length){var o={},n=new Promise(function(e,n){Promise.all(r).then(function(r){r.forEach(function(e,r){o[t[r]]=e}),e(o)},function(e){n(e),console.error(e)})});return n}return e}(e)},Lyte.createCustomElement=function(e,t){var r=t.constructor;delete t.constructor,this.defProperty=function(e,t,r){var o={};r.get&&(o.get=r.get),r.set&&(o.set=r.set),Object.defineProperty(e,t,o)};var o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r&&r.apply(e,Array.from(arguments)),e}return _inherits(t,HTMLElement),t}(),n=t.static;if(n){for(var i in n)"object"===_typeof(n[i])?this.defProperty(o,i,n[i]):Object.defineProperty(o,i,{value:n[i]});delete t.static}for(var i in t)"object"===_typeof(t[i])?this.defProperty(o.prototype,i,t[i]):Object.defineProperty(o.prototype,i,{value:t[i]});t.static=n[i],t.constructor=r,"complete"===document.readyState||"interactive"===document.readyState?customElements.define(e,o):Lyte.toBeRegistered.push({name:e,def:o})},"complete"===document.readyState||"interactive"===document.readyState?domContentLoaded1():document.addEventListener("DOMContentLoaded",function(e){domContentLoaded1()},!0);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function noop(){}function onDomContentForLyte(){document.body.appendChild(LyteComponent.lyteComponentsDiv);for(var e=["focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],t=0;t<e.length;t++){var n=e[t];document.body.addEventListener(n,globalEventHandler,!0)}var r=LyteComponent.toBeRegistered;if(r.length){for(var o=0;o<r.length;o++)customElements.define(r[o].name,r[o].def);LyteComponent.toBeRegistered=[]}}function getMustache(e){if(e=e&&"string"==typeof e?e.trim():e,/^{{(?=[\s]*[\w-_]+)/.test(e)){var t=e.match(/{{[a-zA-Z0-9_.[\]()]*(?![\\])}}/g);if(t&&t.length>1)return;if(!this.syntaxCheck(e)||!/{{[^}]*?(?:(?:('|")[^\1]*?\1)[^}]*?)*}}$/.test(e))return;var n=e.match(/[\w!@#$%^&*)(+=.,_-]+[\s]*[(]{0,1}(?:"([^"]|\\")*?"|'([^']|\\')*?'|[\w\s!@#$%^&*)([\]+=.,_-]*?)*?[)]{0,1}[\s]*(?=}})/g);if(n&&n.length>1)return;return n=n?n[0].trim():n}}function getHelper(e){var t=/\((?:[^)]*|(?:(?:"(?:[^"\\]|\\.)*?")|(?:'([^'\\]|\\.)*?')|[\w\s!@#$%^&*)([\]+=.,_-]*?)*?)\)$/.exec(e);if(t)return getHelperInfo(e,t)}function getHelperInfo(e,t){var n={};n.name=e.substr(0,t.index).replace(/\s/g,"");var r=getHelperArgs((t=t?t[0].trim():t).substr(1,t.length-2));return!1!==r&&(n.args=r,n)}function getHelperArgs(e){for(var t=[],n=[],r=0,o=void 0,i=0;i<e.length;i++)if(t.length||","!==e.charAt(i))"("===e.charAt(i)?"'"==o&&'"'==o||(t.push(e.charAt(i)),o=e.charAt(i)):")"===e.charAt(i)?"("===t[t.length-1]&&t.pop():"'"===e.charAt(i)&&"\\"!==e.charAt(i-1)?"'"===t[t.length-1]?t.pop():'"'!==t[t.length-1]&&(t.push(e.charAt(i)),o=e.charAt(i)):'"'===e.charAt(i)&&"\\"!==e.charAt(i-1)&&('"'===t[t.length-1]?t.pop():"'"!==t[t.length-1]&&(t.push(e.charAt(i)),o=e.charAt(i)));else{var a=e.substr(r,i-r);(a=a.trim())&&a.startsWith('"')&&a.endsWith('"')&&(a="'"+(a=a.slice(1,-1))+"'"),a=getHelperArgValue(a),n.push(a),r=i+1}var s=e.substr(r,e.length-r);return(s=s.trim())&&s.startsWith('"')&&s.endsWith('"')&&(s="'"+(s=s.slice(1,-1))+"'"),s=getHelperArgValue(s),n.push(s),n}function syntaxCheck(e){for(var t,n=[],r=0;r<e.length;r++)"'"===e[r]?"'"===t&&"\\"!==e[r-1]?(n.pop(),t=void 0):n.length||(t=e[r],n.push(t)):'"'===e[r]&&('"'===t&&"\\"!==e[r-1]?(n.pop(),t=void 0):n.length||(t=e[r],n.push(t)));return!n.length}function doCompile(e,t,n){for(var r=0;r<t.length;r++){var o=t[r],i=o.type,a=o.position,s=this.getDynamicNode(e,a);switch(i){case"text":var l=this.getMustache(s.nodeValue),p=void 0;l&&(p=this.getHelper(l));var c=this.getMustache(s.nodeValue);p?o.helperInfo=p:c&&(o.dynamicValue=c);break;case"attr":for(var d=[],m=[],u=s,f=o.attr={},h=0;h<u.attributes.length;h++)if(-1!==u.attributes[h].nodeValue.indexOf("{{")){var _=u.attributes[h].nodeValue,v=this.getMustache(_),y=void 0;if(v?y=this.getHelper(v):/{{.*}}/.test(_)&&!/\\{{.*}}/.test(_)&&(y=this.splitMixedText(_)),y&&("action"===y.name||"method"===y.name)&&/^(onfocus|onfocusin|onfocusout|onresize|onscroll|onclick|ondblclick|onmousedown|onmouseup|onmousemove|onmouseover|onmouseout|onmouseenter|onmouseleave|onchange|onselect|onsubmit|onkeydown|onkeypress|onkeyup|oncontextmenu)$/.test(u.attributes[h].name)){f[u.attributes[h].name.substr(2)]={name:u.attributes[h].name.substr(2),helperInfo:y,globalEvent:!0};var g=deepCopyObject(y.args),b=g.splice(0,1)[0];b=b.startsWith("'")?b.replace(/'/g,""):b;var C=this.getArgString(b,g);u.setAttribute(u.attributes[h].name.substr(2),n+" => "+C),d.push(u.attributes[h].name)}else if(y||v){var A={};u.attributes[h].name.startsWith("lbind:")?(d.push(u.attributes[h].name),m.push({name:u.attributes[h].name.substring(6),value:u.attributes[h].nodeValue}),A.isLbind=!0,A.name=u.attributes[h].name.substring(6)):A.name=u.attributes[h].name,y?"lbind"===y.name?(A.dynamicValue=y.args[0],A.isLbind=!0):A.helperInfo=y:A.dynamicValue=v,!0,f[A.name]=A}}if(d.length)for(var L=0;L<d.length;L++)u.removeAttribute(d[L]);if(m.length)for(var N=0;N<m.length;N++)u.setAttribute(m[N].name,m[N].value);break;case"for":case"forIn":case"component":case"registerYield":doCompile(s.content,o.dynamicNodes,n);break;case"if":case"switch":for(var w in o.cases)doCompile(s.content.querySelector("[case='"+w+"']").content,o.cases[w].dynamicNodes,n);o.default.dynamicNodes&&doCompile(s.content.querySelector("[default]").content,o.default.dynamicNodes,n)}}}function getDynamicNode(e,t){for(var n=e,r=0;r<t.length;r++)n="TEMPLATE"!=n.tagName?n.childNodes[t[r]]:n.content.childNodes[t[r]];return n}function splitMixedText(e){for(var t=[],n=0,r={name:"concat",args:[]},o=0;o<e.length;o++){var i=o;if("\\"!==e[o-1]&&"{"===e[o]&&"{"===e[++o])t.push("{{"),r.args.push("'"+e.substr(n,i-n)+"'"),n=o+1;else if("}"===e[o]&&"}"===e[++o]&&t.length){t.pop(n);var a=e.substr(n,i-n),s=this.getHelper(a);s?(a=s,r.args.push({type:"helper",value:a})):r.args.push(a),n=o+1}}return n<e.length&&r.args.push("'"+e.substr(n,e.length-n)+"'"),r}function getHelperArgValue(e){switch(e){case"undefined":return;case"true":return!0;case"false":return!1;case"null":return null;case"":return;default:return e&&e.startsWith("'")&&e.endsWith("'")?e:/\([\w\s,')(]*/.test(e)?{type:"helper",value:getHelper(e)}:isNaN(e)?e:parseInt(e)}}function deepCopyObject(e){for(var t,n,r,o,i,a,s=[{source:e,target:Object.create(Object.getPrototypeOf(e))}],l=[e],p=s[0].target,c=[p];t=s.shift();)for(n=Object.getOwnPropertyNames(t.source),r=0;r<n.length;r++)(o=Object.getOwnPropertyDescriptor(t.source,n[r])).value&&"object"==_typeof(o.value)?(i=o.value,o.value=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),-1==(a=l.indexOf(i))?(l.push(i),c.push(o.value),Object.defineProperty(t.target,n[r],o),s.push({source:i,target:o.value})):(o.value=c[a],Object.defineProperty(t.target,n[r],o))):Object.defineProperty(t.target,n[r],o);return p}function getArgString(e,t){for(var n=0;n<t.length;n++)"object"===_typeof(t[n])&&(t[n]=this.getArgString(t[n].value.name,t[n].value.args));return e?e+"("+t.toString()+")":t.toString()}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();window.Lyte||console.error("Lyte is not defined"),navigator.userAgent.match(/rv:11/)&&(window.action=function(){}),Lyte.Component={},Lyte.arrayUtils=function(){return LyteComponent.arrayFunctions.apply(LyteComponent,arguments)},Lyte.objectUtils=function(){return LyteComponent.objectFunctions.apply(LyteComponent,arguments)},Lyte.Component.register=function(){LyteComponent.registerComponent.apply(LyteComponent,arguments)},Lyte.Component.registerHelper=function(){LyteComponent.registerHelper.apply(LyteComponent,arguments)},Lyte.Component.set=function(){LyteComponent.set.apply(LyteComponent,arguments)},Lyte.Component.registeredHelpers={},Lyte.Component.registeredComponents={},Lyte.Component.unregisterComponent=function(e){if(Lyte.Component.registeredComponents[e]){var t=LyteComponent._registeredComponents[e];t.activeInstances>0?console.warn("There are active instances of the component "+e+" and hence cannot be unregistered"):(t._properties={},t.component=null,t._mixins=null,t._actions=null,t._template=null,t._dynamicNodes=null,t._callBacks={},t._observers=[],t._data=void 0,t._methods={},t.prototype.get=noop,t.prototype.set=noop,delete Lyte.Component.registeredComponents[e])}else console.warn("Component "+e+" not yet registered")};var elementPrototype="undefined"!=typeof HTMLElement?HTMLElement:Element;document.addEventListener("change",function(e){var t=e.target||e.srcElement;if(t._attributeDetails){var n="value";"checkbox"!==t.type&&"radio"!==t.type||(n="checked");var r=[],o=t._attributeDetails[n];if(o&&o.isLbind){var i=t;if(!t._callee){for(;i&&!LyteComponent.isCustomElement(i)&&"LYTE-YIELD"!==i.tagName;){if("BODY"===i.tagName){i=null;break}i=i.parentNode}i&&"LYTE-YIELD"===i.tagName?t._callee=i._callee._callee:t._callee=i}var a=t._callee;t&&LyteComponent.newAddContext(t,r);var s=LyteComponent.getNew(a.component.data,o.dynamicValue);LyteComponent.set(s.context,s.lastKey,t[n]),t&&LyteComponent.newRemoveContext(t,r)}}});var globalEventHandler=function(e){var t,n=e.type,r=e.target;for(window.event||(t=!0,window.event=e);!r.getAttribute(n)&&"BODY"!=r.tagName;)r=r.parentNode;var o=r;if(!r._callee){for(;o&&!LyteComponent.isCustomElement(o)&&"LYTE-YIELD"!==o.tagName;){if("BODY"===o.tagName){o=null;break}o=o.parentNode}o&&"LYTE-YIELD"===o.tagName?r._callee=o._callee._callee:r._callee=o===r?void 0:o}if(r._evBoundEvents&&r._evBoundEvents[n]){r._callee?r._callee.constructor._actions:r.constructor._actions;var i=r._evBoundEvents[n],a=Lyte.deepCopyObject(i);a.args.shift(),LyteComponent.throwAction.call(r,r,n,a,void 0,void 0,r,e)}else if(r.getAttribute(n)){r._callee.constructor._actions,r.getAttribute(n).split(" => ")[1];var s=r._boundEvents[n],l=Lyte.deepCopyObject(s);l.args.shift(),LyteComponent.throwAction.call(r._callee,r._callee,n,l,void 0,void 0,r,e)}if("LABEL"===r.tagName){var p=r.querySelector("input");if(p.getAttribute(n)){r._callee.constructor._actions,p.getAttribute(n).split(" => ")[1];var c=r._boundEvents[n],d=Array.from(c.args),m=Object.assign({},c);d.shift(),m.args=d,LyteComponent.throwAction.call(r._callee,r._callee,n,m,void 0,void 0,p,e)}}t&&(window.event=void 0)},LyteYield=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,HTMLElement),_createClass(t,[{key:"disconnectedCallback",value:function(){if(!LyteComponent.ignoreDisconnect){var e=[];LyteComponent.newAddContext(this,e),LyteComponent.removeSelectedBindingDeep(this._properties,this.component.data);var t=this._registerYield;if(t){var n=[];LyteComponent.newAddContext(t,n);for(var r in this._dynamicProperty)this._dynamicProperty[r].isActualNode?this._dynamicProperty[r].isActualNode._helperNodes.delete(this):t._callee.getProperty(r)._helperNodes&&t._callee.getProperty(r)._helperNodes.delete(this);this._dynamicProperty={};for(var o=0;o<this._helpers.length;o++)t._callee.removeHelpers(this._helpers[o]);this._helpers=[],LyteComponent.newRemoveContext(t,n),LyteComponent.newRemoveContext(this,e)}}}},{key:"getProperty",value:function(e){var t=e.split("."),n=this;n._properties[t[0]]||(n._properties[t[0]]={}),n=n._properties[t[0]],Object.defineProperty(n,"_path",{enumerable:!1,value:t[0]});for(var r=1;r<t.length;r++)n[t[r]]||(n[t[r]]={},Object.defineProperty(n[t[r]],"_path",{enumerable:!1,value:n._path+"."+t[r]})),n=n[t[r]];return n}}]),t}();customElements.define("lyte-yield",LyteYield);var customElementPrototype=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!Lyte.Component.registeredComponents[e.localName])return _possibleConstructorReturn(e);e.constructor.activeInstances++,e.component=new e.constructor.component,e.data={},e._properties={},e.component.methods={},e.component.data={};var n=e.constructor._data?e.constructor._data():{};for(var r in n)e.component.data[r]=n[r].default;e.component.data.errors={},e.component.__data=n;for(var o in e.constructor._methods)e.component.methods[o]=e.constructor._methods[o];return Object.defineProperty(e.component.data,"__component__",{value:e,configurable:!0,writable:!0,enumerable:!1}),e.component.$node=e,e.callback("constructor"),e._actions=e._actions?e._actions:{},e._callee=e._callee||e.getCallee(e.parentNode),e}return _inherits(t,elementPrototype),_createClass(t,[{key:"ltProp",value:function(){var e=arguments.length,t=arguments[0];if(!t){var n={};for(var r in this.component.data)if(r.startsWith("ltProp")){var o=r.substring(6);n[o=LyteComponent.String.lowerCaseFirstLetter(o)]=this.component.data[r]}return n}if("string"==typeof t){if(!(e>1)){var i="ltProp"+LyteComponent.String.upperCaseFirstLetter(t);return this.component.data[i]}this.set("ltProp"+LyteComponent.String.upperCaseFirstLetter(t),arguments[1])}else if("object"===(void 0===t?"undefined":_typeof(t)))for(var a in t){var s="ltProp"+LyteComponent.String.upperCaseFirstLetter(a);this.set(s,t[a])}}},{key:"getMethods",value:function(e){return this.component.getMethods(e)}},{key:"setMethods",value:function(e,t){return this.component.setMethods(e,t)}},{key:"getData",value:function(e){return this.component.getData(e)}},{key:"setData",value:function(e,t){return this.component.setData(e,t)}},{key:"getCallee",value:function(e){for(;e&&!LyteComponent.isCustomElement(e)&&"LYTE-YIELD"!==e.tagName;){if("BODY"===e.tagName){e=null;break}e=e.parentNode}return e&&"LYTE-YIELD"===e.tagName?e._callee._callee:this===e?void 0:e}},{key:"afterConnected",value:function(){for(var e=this.constructor._observedAttributes,t=0;t<e.length;t++){var n=e[t],r=this.getProperty(n);Object.defineProperty(r,"__fromComponent",{value:!0,enumerable:!1})}if(this.getProperty("errors"),this._initProperties){var o=this._initProperties;for(var i in o)this.component.data[i]=o[i];this._initProperties=void 0}if(this._initMethods){var a=this._initMethods;for(var s in a)this.component.methods[s]=a[s];this._initMethods=void 0}this.callback("init"),this.onCallBack("init"),this.registerYields();return this.renderNodes(this.constructor._template.content,this.constructor._dynamicNodes,void 0,void 0)}},{key:"getDynamicNode",value:function(e,t){for(var n=e,r=0;r<t.length;r++)n="TEMPLATE"!=n.tagName?n.childNodes[t[r]]:n.content.childNodes[t[r]];return n}},{key:"renderNodes",value:function(e,t,n,r,o,i){r=r||{};var a=void 0;if(navigator.userAgent.match(/rv:11/)){var s=e.cloneNode(!0,"lyte");this.constructor.splitTextNodes(s),a=s}else a=e.cloneNode(!0,"lyte");for(var l=[],p=[],c=void 0,d=0;d<t.length;d++){var m=t[d],u=m.type,f=m.position,h=a;if(h=this.getDynamicNode(h,f),"componentDynamic"===u)r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo);else if("text"===u)this.bindNode(h,void 0,n,r,t[d],p,o);else if("attr"===u){if(h._attributeDetails=m.attr,"LYTE-YIELD"===h.nodeName){h._callee=this,h.component={},h.component.data={},Object.defineProperty(h.component.data,"__component__",{value:h,configurable:!0,writable:!0,enumerable:!1}),h._properties={};for(var _=0;_<h.attributes.length;_++){var v=h.attributes[_];"is"!==v.nodeName&&"yield-name"!==v.nodeName&&(h._properties[LyteComponent.String.toCamelCase(v.nodeName)]={})}}var y=[];for(var g in m.attr){var b=m.attr[g],C=g;if(b&&(b.dynamicValue||b.helperInfo))if(r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo),b.globalEvent){h._boundEvents=h._boundEvents||{};var A=b.helperInfo.args[0],L=void 0;A.startsWith('"')||A.startsWith("'")?L=A.substring(1,A.length-1):(console.warn("Deprecation warning. Action name "+A+" must be in quotes"),L=A),h._boundEvents[C]={name:L,args:b.helperInfo.args}}else{var N=this.bindNode(h.getAttributeNode(C),y,n,r,b,void 0,o);N!==h.getAttributeNode(C)&&(h._removedAttributes=h._removedAttributes||{},h._removedAttributes[C]=N)}}m.attr&&Object.keys(m.attr).length&&(h._callee=this);for(var w=0;w<y.length;w++)h.removeAttribute(y[w])}else if(/^(for|forIn|component)$/.test(u)){r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo),h._dynamicNodes=m.dynamicNodes;var x=void 0;switch(u){case"for":x=this.updateForHelper(h,{type:"default"},r.node?r:void 0);break;case"forIn":x=this.updateForInHelper(h,{type:"default"},r.node?r:void 0);break;case"component":x=this.updateDynamicComponent(h,!1,r.node?r:void 0)}x&&l.push(x)}else if(/^(if|switch)$/.test(u)){h._cases=m.cases,h._default=m.default,r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo);var S=this.updateSwitchHelper(u,h,r.node?r:void 0);if(S){l.push(S);if(S.toAppendMain.querySelector("template[is=break]")){h._isStopped="break",a=this.constructor.getTrimmedContent(a,m.position,void 0),c=m.position;break}if(S.toAppendMain.querySelector("template[is=continue]")){h._isStopped="continue",a=this.constructor.getTrimmedContent(a,m.position,void 0);break}}}else"registerYield"===u?(h._dynamicNodes=m.dynamicNodes,r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo),h._callee=this):"insertYield"===u&&(r.node?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo),h.component=h.component||{data:{}},h._properties=h._properties||{},this.updateYield(h,!1,r.node?r:void 0))}for(var P=0;P<p.length;P++){var I=p[P].dynamicPositions,E=I.initialNode,k=I.dynamicNodeValue,O=k.childNodes.length;O||(k.appendChild(document.createTextNode("")),O=1);var B=k.childNodes[0];E.replaceWith.apply(E,k.childNodes),p[P].dynamicPositions={startingNode:B,length:O}}return c&&((i=i||{}).stop=!0),n?r.type?(n._helpers[r.itemIndex]=l,a):(n._helpers=l,a):(this.executeBlockHelpers(l),a)}},{key:"executeBlockHelpers",value:function(e,t){for(var n=0;n<e.length;n++)e[n].lastNode.parentNode.insertBefore(e[n].toAppendMain,e[n].lastNode),e[n]=e[n].lastNode}},{key:"updateBlockHelpers",value:function(e,t){for(var n=0;n<e.length;n++)switch(e[n].getAttribute("is")){case"for":this.updateForHelper(e[n],{type:"default"},t);break;case"if":this.updateSwitchHelper("if",e[n],t);break;case"forIn":this.updateForInHelper(e[n],{type:"default"},t);break;case"switch":this.updateSwitchHelper("switch",e[n],t);break;case"component":this.updateDynamicComponent(e[n],!1,t);break;case"insertYield":break;case"yield":case"registerYield":t&&(e[n]._contextSwitchInfo=t);break;default:"LYTE-YIELD"===e[n].tagName&&this.updateYield(e[n],!1,t)}}},{key:"attributeChangedCallback",value:function(e,t,n){if(!this.constructor._observedMethodAttributes||!this.constructor._observedMethodAttributes[e])if("lt-prop"!==e){if(null!==n&&t!==n){var r=LyteComponent.String.toCamelCase(e);switch(this.component.__data[r].type){case"boolean":n=!(!n||"false"===n);break;case"object":try{(n=JSON.parse(n))instanceof Object||console.warn("data type of the value provided for attribute "+e+" of "+this+" is not valid")}catch(t){return void console.warn("attribute "+e+" is not a valid JSON string.")}break;case"array":try{(n=JSON.parse(n))instanceof Array||console.warn("data type of the value provided for attribute "+e+" of "+this+" is not valid")}catch(t){return void console.warn("attribute "+e+" is not a valid JSON string.")}break;case"number":var o=+n;if(n!==o+"")return void console.warn("data type of the value provided for attribute "+e+" of "+this+" is not valid");n=o}this.component.data[r]!==n&&this.set(r,n)}}else{var i=n;if(i)try{i=JSON.parse(i);for(var a in i){var s="ltProp"+LyteComponent.String.upperCaseFirstLetter(a);this.set(s,i[a])}}catch(e){console.error("Error while parsing lt-data")}}}},{key:"removeHelpersSpecificIndex",value:function(e,t){if(e._helpers[t])for(var n=0;n<e._helpers[t].length;n++)this.removeHelpers(e._helpers[t][n]);if(e._forContent[t]){for(var r=0;r<e._forContent[t].length;r++)e._forContent[t][r].remove();e._items[t]={_dynamicProperty:{},itemProperty:{},indexProperty:{}}}}},{key:"removeHelpers",value:function(e,t){var n=[];if(LyteComponent.newAddContext(e,n),e._forContent)if("for"===e.getAttribute("is")){if(e._helpers)for(var r=0;r<e._helpers.length;r++){for(var o=0;o<e._helpers[r].length;o++)this.removeHelpers(e._helpers[r][o]);e._helpers[r]=[]}for(var i=0;i<e._forContent.length;i++)for(var a=0;a<e._forContent[i].length;a++)e._forContent[i][a].remove();var s=e.getAttribute("item");if(e._items.length){var l=e._items[0].itemProperty,p=e._items[0]._dynamicProperty;for(var c in p){var d=this.getProperty(c);d._helperNodes&&d._helperNodes.delete(e)}if(l)for(var m=0;m<e._items.length;m++)this.removeBindings(_defineProperty({},s,e._items[m].itemProperty),_defineProperty({},s,e._attributes.items[m]))}t||e._actualBinding&&(e._attributes.items&&e._attributes.items._bindings&&e._actualBinding._createdBinding&&e._attributes.items._bindings.delete(e._actualBinding),e._actualBinding._forHelpers&&e._actualBinding._forHelpers.delete(e),e._removedAttributes&&e._removedAttributes.items&&e._removedAttributes.items._multipleProperty&&e._removedAttributes.items._multipleProperty.actProp._forHelpers.delete(e)),e._items=[]}else{if(e._helpers)for(var u=Object.keys(e._helpers),f=0;f<u.length;f++){for(var h=0;h<e._helpers[u[f]].length;h++)this.removeHelpers(e._helpers[u[f]][h]);e._helpers[u[f]]=[]}for(var _ in e._forContent)for(var v=0;v<e._forContent[_].length;v++)e._forContent[_][v].remove();var y=e._items,g=e.getAttribute("key");for(var b in y){var C=y[b],A=C.itemProperty,L=C._dynamicProperty;for(var N in L){var w=this.getProperty(N);w._helperNodes&&w._helperNodes.delete(e)}if(A)for(var x in e._items)this.removeBindings(_defineProperty({},g,e._items[x].itemProperty),_defineProperty({},g,e._attributes.object[x]))}t||(e._actualBinding&&(e._attributes.object&&e._attributes.object._bindings&&e._actualBinding._createdBinding&&e._attributes.object._bindings.delete(e._actualBinding),e._actualBinding._forHelpers&&e._actualBinding._forHelpers.delete(e)),e._removedAttributes.items&&e._removedAttributes.items._multipleProperty&&e._removedAttributes.items._multipleProperty.actProp._forHelpers.delete(e),e._propBindingObject&&e._attributes.object&&e._attributes.object._bindings&&e._attributes.object._bindings.delete(e._propBindingObject)),e._items={}}else if(e._caseContent||e._yieldContent){if(e._helpers){for(var S=0;S<e._helpers.length;S++)this.removeHelpers(e._helpers[S]);e._helpers=[]}if(e._caseContent){for(var P=0;P<e._caseContent.length;P++)e._caseContent[P].remove();for(var I in e._dynamicProperty)e._dynamicProperty[I].isActualNode?e._dynamicProperty[I].isActualNode._helperNodes.delete(e):this.getProperty(I)._helperNodes&&this.getProperty(I)._helperNodes.delete(e);e._dynamicProperty={}}else{for(var E=0;E<e._yieldContent.length;E++)e._yieldContent[E].remove();e._dynamicProperty={}}}else if(e._renderedComponent){e._renderedComponent[e._currentComponent]&&e._renderedComponent[e._currentComponent].remove();for(var k in e._renderedComponent)e._renderedComponent[k]=null}LyteComponent.newRemoveContext(e,n)}},{key:"updateYield",value:function(e,t,n){e._callee||(e._callee=this);var r=e._callee._yields[e.getAttribute("yield-name")];if(r){var o=r._callee||e._callee._callee;if(o){r._callee||(r._callee=o),e._dynamicProperty=e._dynamicProperty||{};var i={},a=[];LyteComponent.newAddContext(r,a),Object.keys(e._properties).forEach(function(t){i[t]={},i[t].value=o.component.data[t],i[t].property=o._properties[t],o._properties[t]=e._properties[t],o.component.data[t]=e.component.data[t]});var s=o.renderNodes(r.content,r._dynamicNodes,e,{node:e},!0);LyteComponent.establishBindings(e._properties,e.component.data),o.executeBlockHelpers(e._helpers),Object.keys(e._properties).forEach(function(e){o.component.data[e]=i[e].value,o._properties[e]=i[e].property}),LyteComponent.newRemoveContext(r,a),e.appendChild(s),e._registerYield=r}else e.appendChild(r.content.cloneNode(!0,"lyte"))}}},{key:"updateDynamicComponent",value:function(e,t,n){var r=void 0;e._callee=this;var o=e.hasAttribute("lyte-keep-alive");e._renderedComponent=e._renderedComponent||{},e._contextSwitchInfo=n||e._contextSwitchInfo,e._dynamicProperty=e._dynamicProperty||{};var i=e.getAttribute("component-name")||(e._attributes?e._attributes["component-name"]:void 0);if(i){var a=void 0,s=!1;if(t?(o&&(LyteComponent.ignoreDisconnect=!0),e._renderedComponent[e._currentComponent]&&e._renderedComponent[e._currentComponent].remove(),LyteComponent.ignoreDisconnect=!1,o||(e._dynamicProperty={}),e._renderedComponent[i]&&o?a=e._renderedComponent[i]:(a=document.createElement(i),s=!0)):(a=document.createElement(i),s=!0),!o&&e._currentComponent&&(e._renderedComponent[e._currentComponent]=null),s){for(var l=0;l<e.attributes.length;l++)"is"!==e.attributes[l].name&&"component-name"!==e.attributes[l].name&&"lyte-keep-alive"!==e.attributes[l].name&&a.setAttribute(e.attributes[l].name,e.attributes[l].value);if(e._attributes)for(var p in e._attributes)"component-name"!==p&&a.setData(LyteComponent.String.toCamelCase(p),e._attributes[p]);var c=this.renderNodes(e.content,e._dynamicNodes,e,void 0);a.appendChild(c)}return s&&(a._toRegEvnts=e._toRegEvnts),t?e.parentNode.insertBefore(a,e):r={toAppendMain:a,lastNode:e},e._renderedComponent[i]=a,e._currentComponent=i,a._callee=this,a._actions=e._actions,a.setMethods(e._initMethods),a._attributeDetails=e._attributeDetails,a._boundEvents=e._boundEvents,r}}},{key:"updateForHelper",value:function(e,t,n){e._callee=this,e._attributes=e._attributes||{},e._contextSwitchInfo=n||e._contextSwitchInfo;var r=e.getAttribute("index");r||(e.setAttribute("index","index"),r="index");var o=e.getAttribute("item");o||(e.setAttribute("item","item"),o="item");var i=this.component.data[o],a=this.component.data[r],s=this._properties[o],l=this._properties[r];this._properties[o]=this._properties[r]={};var p=e._attributes.items,c=e.content,d=e._dynamicNodes,m=e;e._items||(e._items=[]);var u=void 0,f=void 0,h=t.firstIndex,_=t.secondIndex,v=t.thirdIndex;if(t)switch(t.type){case"remove":u=h;for(var y=h,g=_;g>0;g--,y++)this.removeHelpersSpecificIndex(e,y);for(var b=h+_;b<e._items.length;b++)e._items[b]._contextSwitchInfo.itemIndex=e._items[b]._contextSwitchInfo.itemIndex-_;e._items.splice(h,_),e._helpers.splice(h,_),e._forContent.splice(h,_);break;case"insert":f=h,u=_,e._forContent[h]&&(m=e._forContent[h][0]);for(var C=[],A=[],L=[],N=_,w=h;N>0;N--,w++)C.push([]),A.push({}),L.push([]);e._helpers.splice.apply(e._helpers,[h,0].concat(C)),e._items.splice.apply(e._items,[h,0].concat(A));for(var x=h+_;x<e._items.length;x++)e._items[x]._contextSwitchInfo.itemIndex=e._items[x]._contextSwitchInfo.itemIndex+_;e._forContent.splice.apply(e._forContent,[h,0].concat(L));break;case"replace":f=h,u=_,this.removeHelpersSpecificIndex(e,h);document.createDocumentFragment();e._forContent[h+1]&&(m=e._forContent[h+1][0]);for(var S=[],P=[],I=[],E=_,k=h;E>0;E--,k++)S.push([]),I.push([]),P.push({});e._helpers.splice.apply(e._helpers,[h,1].concat(S)),e._items.splice.apply(e._items,[h,1].concat(P));for(var O=h+_;O<e._items.length;O++)e._items[O]._contextSwitchInfo.itemIndex=e._items[O]._contextSwitchInfo.itemIndex+_-1;e._forContent.splice.apply(e._forContent,[h,1].concat(I));break;case"splice":f=h,u=_;for(var B=v,j=0;B>0;B--,j++)this.removeHelpersSpecificIndex(e,h+j);document.createDocumentFragment();e._forContent[h+v]&&(m=e._forContent[h+v][0]);for(var H=[],D=[],T=[],M=_,V=h;M>0;M--,V++)H.push([]),T.push([]),D.push({});e._helpers.splice.apply(e._helpers,[h,v].concat(H)),e._items.splice.apply(e._items,[h,v].concat(D));for(var Y=h+_;Y<e._items.length;Y++)e._items[Y]._contextSwitchInfo.itemIndex=e._items[Y]._contextSwitchInfo.itemIndex+_-v;e._forContent.splice.apply(e._forContent,[h,v].concat(T));break;case"update":e.getAttribute("item");for(var F=0;F<e._items.length;F++)this.removeHelpersSpecificIndex(e,F);e._items=[];case"default":e._forContent=[],e._helpers=[],f=0,u=p?p.length:0;break;default:console.error("Error in updateForHelper")}for(m||(m=e);m!==e&&"TEMPLATE"===m.tagName;){switch(m.getAttribute("is")){case"for":case"forIn":m=m._forContent[0][0]||m;break;case"if":case"switch":m=m._caseContent[0]||m;break;case"component":m=m._renderedComponent[m._currentComponent]||m}}var R=void 0;if("remove"!==t.type){for(var W=document.createDocumentFragment(),$=f,q=u;q>0;$++,q--){e._helpers[$]=[],e._items[$]={_dynamicProperty:{},itemProperty:{},indexProperty:{}},this.component.data[o]=p[$],this.component.data[r]=$,this._properties[o]={},this._properties[r]={};var z={itemValue:o,itemIndex:$,type:"for",node:e,indexValue:r};e._items[$]._contextSwitchInfo=z;var J={},G=this.renderNodes(c,d,e,z,void 0,J);if(e._items[$].itemProperty=this.getProperty(o),e._items[$].indexProperty=this.getProperty(r),LyteComponent.establishBindings(_defineProperty({},o,e._items[$].itemProperty),_defineProperty({},o,e._attributes.items[$])),e._forContent[$]=Array.from(G.childNodes),this.executeBlockHelpers(e._helpers[$]),W.appendChild(G),J.stop)break}"default"===t.type?R={toAppendMain:W,lastNode:m}:m.parentNode.insertBefore(W,m),e._removedAttributes&&e._removedAttributes.items&&e._removedAttributes.items._multipleProperty&&LyteComponent.establishBindings({items:e._removedAttributes.items._multipleProperty.actProp},{items:p})}for(var U=u;U<e._items.length;U++)e._items[U].indexProperty&&LyteComponent.affectChanges(e._items[U].indexProperty);return this.component.data[o]=i,this.component.data[r]=a,this._properties[o]=s,this._properties[r]=l,R}},{key:"updateForInHelper",value:function(e,t,n){var r=this;e._callee=this,e._attributes=e._attributes||{},n=n||e._contextSwitchInfo,e._contextSwitchInfo=n;var o=e.getAttribute("key");o||(o="key",e.setAttribute("key","key"));var i=e.getAttribute("value");i||(i="value",e.setAttribute("value","value"));var a=r.component.data[o],s=r.component.data[i],l=r._properties[o],p=r._properties[i];r._properties[o]=r._properties[i]={};var c=e._attributes.object,d=e.content,m=e._dynamicNodes,u=e,f=[];if(e._items||(e._items={}),t)switch(t.type){case"delete":this.removeHelpersSpecificIndex(e,t.property);var h=e._keysArray.indexOf(t.property);h>-1&&e._keysArray.splice(h,1),delete e._propBindingObject[t.property];break;case"add":f=[t.property],e._keysArray.push(t.property);break;case"update":e._keysArray.forEach(function(t,n,r){this.removeHelpersSpecificIndex(e,t)},this),e._keysArray=f=c?Object.keys(c):[],e._items={},e._propBindingObject={};break;case"default":e._forContent={},e._helpers={},e._keysArray=f=c?Object.keys(c):[];break;default:console.error("Error in updateForHelper")}var _=void 0;if(!c){var v=document.createDocumentFragment();if("default"===t.type)return{toAppendMain:v,lastNode:u};u.parentNode.insertBefore(v,u)}if(c&&"remove"!==t.type){var y=document.createDocumentFragment();e._propBindingObject=e._propBindingObject||{},f.forEach(function(t,n,a){e._helpers[t]=[],e._items[t]={_dynamicProperty:{},itemProperty:{}},r.component.data[o]=t,r.component.data[i]=c[t],r._properties[o]={},r._properties[i]={};var s={itemIndex:t,itemValue:i,keyValue:o,type:"forIn",node:e};e._items[t]._contextSwitchInfo=s;var l=this.renderNodes(d,m,e,s);e._items[t].itemProperty=this.getProperty(i),e._propBindingObject[t]=e._items[t].itemProperty,e._forContent[t]=Array.from(l.childNodes),this.executeBlockHelpers(e._helpers[t]),y.appendChild(l)},this),e._attributes.object._bindings||Object.defineProperty(e._attributes.object,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e._attributes.object._bindings.add(e._propBindingObject),LyteComponent.establishBindings(e._propBindingObject,e._attributes.object),"default"!==t.type?u.parentNode.insertBefore(y,u):_={toAppendMain:y,lastNode:u}}return r.component.data[o]=a,r.component.data[i]=s,r._properties[o]=l,r._properties[i]=p,_}},{key:"updateSwitchHelper",value:function(e,t,n,r){var o=t;t._callee||(t._callee=this),n=n||t._contextSwitchInfo,t._contextSwitchInfo=n,t._dynamicProperty=t._dynamicProperty?t._dynamicProperty:{};var i=void 0,a=void 0;if(""===t.getAttribute("value")||t.getAttribute("value")?a=t.getAttribute("value"):t._attributes&&(a=t._attributes.value),!t._currentCase||a!==t._currentCase){if(a)i="if"===e?"true":a.toString();else if("if"===e)i="false";else switch(a){case void 0:i="undefined";break;case null:i="null";break;case!1:i="false";break;case"":i='""'}if(i!==t._currentCase){t._currentCase=i;var s=t._cases[i],l=void 0;if(!s&&(s=t._default,l=t.content.querySelector("[default]"),t._isDefault=!0,!l)){t._caseContent&&t._caseContent.length&&this.removeHelpers(t),t._caseContent=[];var p=document.createTextNode("");if(t._caseContent.push(p),t._currentCaseName=i,r)return void o.parentNode.insertBefore(p,t);var c=document.createDocumentFragment();return c.append(p),{lastNode:o,toAppendMain:c}}t._caseContent&&t._caseContent.length&&this.removeHelpers(t);var d=s,m=i,u=void 0;u=l||t.content.querySelector("[case='"+m+"']");for(var f=[];d;){var h=d.dynamicNodes,_=this.renderNodes(u.content,h,t,void 0);if(f.push(_),!d.additional)break;d.additional.next?(u=t.content.querySelector("[case='"+d.additional.next+"']"),d=t._cases[d.additional.next]):(u=t.content.querySelector("[default]"),d=t._default)}t._caseContent=[];for(var v=document.createDocumentFragment(),y=0;y<f.length;y++)11==f[y].nodeType?t._caseContent=t._caseContent.concat(Array.from(f[y].childNodes)):t._caseContent.push(f[y]),v.append(f[y]);if(this.executeBlockHelpers(t._helpers,t),r){var g=void 0;return v.querySelector("template[is=break]")?g="break":v.querySelector("template[is=continue]")&&(g="continue"),t.parentNode.insertBefore(v,t),g}return{toAppendMain:v,lastNode:t}}}}},{key:"dummy",value:function(e,t){this.constructor._properties[boundValue].observer}},{key:"callObservers",value:function(e,t){var n=this.constructor._properties[e],r=n?n.observer:void 0;if(r)for(var o=0;o<r.length;o++)-1!==t.indexOf(".")&&r[o].path!==t||this["_"+r[o].functionName].apply(this)}},{key:"bindNode",value:function(e,t,n,r,o,i,a,s){var l=r.itemValue,p=r.itemIndex,c=r.type,d=r.indexValue,m=o.dynamicValue,u=o.helperInfo,f=void 0,h=e.ownerElement,_=[];e._callee=this;var v=!1;if(u&&Object.keys(u).length){v=!0;e.nodeName;f=e.helperValue=u;var y=[];if("action"===u.name){var g=u.args[0];u.args[0]=g.startsWith("'")?g.replace(/'/g,""):g,c?h._contextSwitchInfo=r:n&&(h._contextSwitchInfo=n._contextSwitchInfo),g=u.args.slice(0,1)[0];var b=u.args.slice(1,u.args.length),C=!1,A=e.nodeName;return-1!=A.indexOf("-")&&(C=!0),y=[h,A,C,{name:g,args:b}],void this.processHelper({name:u.name,args:y},e)}if(y=this.processArgs(this,u.args,_),f=this.processHelper({name:u.name,args:y},e),"unescape"===u.name){e={dynamicPositions:{initialNode:e,dynamicNodeValue:f},_callee:e._callee,helperValue:e.helperValue},i.push(e)}}else{u={},e.syntaxValue=m;var L=[];f=LyteComponent.get(this.component.data,m,L),_.push(L)}2===e.nodeType&&("string"!=typeof f&&(LyteComponent.isCustomElement(e.ownerElement,!0)||"boolean"==typeof f)||LyteComponent.isControlHelper(e.ownerElement))&&(e={nodeName:e.nodeName,ownerElement:h,nodeType:2,nodeValue:e.nodeValue,_callee:this,syntaxValue:e.syntaxValue,helperValue:e.helperValue,_attributeDetails:e._attributeDetails});var N=void 0;if("unbound"!==u.name){var w=void 0;n&&(w=c?n._items[p]._dynamicProperty:n._dynamicProperty);for(var x=0;x<_.length;x++){for(var S=_[x],P=0;P<S.length;P++){var I=this.getProperty(S[P]);if(n){var E=S[P].search(/\W/),k=void 0;(k=-1!==E?S[P].substring(0,E):S[P])===l||k===d||r.node&&r.node._properties&&r.node._properties[k]?(e._contextSwitchInfo=r,I._dynamicNodes||(I._dynamicNodes=[],Object.defineProperty(I,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0})),I._dynamicNodes.push(e),N=I):(I._helperNodes||Object.defineProperty(I,"_helperNodes",{value:new Set,writable:!0,enumerable:!1,configurable:!0}),I._helperNodes.add(n),w[S[P]]?w[S[P]].push(e):(w[S[P]]=[]).push(e))}else I._dynamicNodes||Object.defineProperty(I,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0}),I._dynamicNodes.push(e);if(h&&"TEMPLATE"===h.tagName&&/^(for|forIn)$/.test(h.getAttribute("is"))&&!v){var O=h.getAttribute("is");("for"===O&&"items"===e.nodeName||"forIn"===O&&"object"===e.nodeName)&&(I._forHelpers||Object.defineProperty(I,"_forHelpers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e.ownerElement._actualBinding=I,I._forHelpers.add(e.ownerElement))}a&&LyteComponent.establishSelectedBinding(I,this.component.data,this)}S.length>1&&(e._multipleProperty={dynamicProp:N?void 0:w,actProp:this.getProperty(S[0]),helperNode:n})}}if(f="boolean"===!(void 0===f||_typeof(f))&&"number"===!(void 0===f||_typeof(f))?f||"":f,2===e.nodeType){var B=e._parentNode?e._parentNode:e.ownerElement;if(B.tagName)B.getAttribute("is");var j=LyteComponent.isCustomElement(B,!0);j&&(B.set?B.set(LyteComponent.String.toCamelCase(e.nodeName),f):(B._initProperties=B._initProperties||{},B._initProperties[LyteComponent.String.toCamelCase(e.nodeName)]=f));var H=f;j&&"string"!=typeof f&&!s?(B._attributes=B._attributes||{},B._attributes[e.nodeName]=f,"TEMPLATE"===B.nodeName&&v&&f&&("for"===B.getAttribute("is")&&"items"===e.nodeName||"forIn"===B.getAttribute("is")&&"object"===e.nodeName)&&(f._bindings||Object.defineProperty(f,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),e.ownerElement._actualBinding={_forHelpers:(new Set).add(B),_createdBinding:!0},f._bindings.add(e.ownerElement._actualBinding)),t.push(e.nodeName)):"boolean"==typeof f?(B._attributes=e.ownerElement._attributes||{},B._attributes[e.nodeName]=f,f?B.setAttribute(e.nodeName,""):t.push(e.nodeName)):(f="object"===(void 0===f?"undefined":_typeof(f))?"undefined"!=typeof Record&&f instanceof Record?JSON.stringify(f.$.toJSON()):JSON.stringify(f):void 0===f?"":f,LyteComponent.isControlHelper(e.ownerElement)?(B._attributes=e.ownerElement._attributes||{},B._attributes[e.nodeName]=f,t.push(e.nodeName)):e.nodeValue=f),"LYTE-YIELD"===B.tagName&&(B.component.data[LyteComponent.String.toCamelCase(e.nodeName)]=H),/^(INPUT|TEXTAREA|SELECT)$/.test(B.nodeName)&&("value"===e.nodeName?B.value=f:"checked"===e.nodeName&&(B.checked=f))}else e.nodeValue=void 0===f?"":f;return e}},{key:"debounce",value:function(e,t){var n;return function(){var r=this,o=arguments;n&&clearTimeout(n),n=setTimeout(function(){e.apply(r,o),n=null},t||100)}}},{key:"getProperty",value:function(e){var t=e.split("."),n=this;n._properties[t[0]]||(n._properties[t[0]]={}),n=n._properties[t[0]],Object.defineProperty(n,"_path",{enumerable:!1,value:t[0]});for(var r=1;r<t.length;r++)n[t[r]]||(n[t[r]]={},Object.defineProperty(n[t[r]],"_path",{enumerable:!1,value:n._path+"."+t[r]})),n=n[t[r]];return n}},{key:"updateNode",value:function(e,t){var n=!1,r=void 0;if(e._multipleProperty&&t!==e._multipleProperty.actProp._path){n=!1;var o=void 0;if((r=e._multipleProperty).dynamicProp){if(n=r,o=r.dynamicProp[r.actProp._path]){var i=o.indexOf(e);o.splice(i,1)}var a=r.helperNode;if(0===o.length)if("if"===a.getAttribute("is"))r.actProp._helperNodes.delete(a),delete r.dynamicProp[r.actProp._path];else if(delete r.dynamicProp[r.actProp._path],a._items){for(var s=!0,l=0;l<a._items.length;l++)if(a._items[l]._dynamicProperty&&a._items[l]._dynamicProperty[r.actProp._path]){s=!1;break}s&&r.actProp._helperNodes.delete(a)}}if(!n&&(n="dynamicNodes",o=r.actProp._dynamicNodes)){var p=o.indexOf(e);o.splice(p,1),o.length||delete r.actProp._dynamicNodes}}if(e.syntaxValue||e.helperValue){var c=void 0,d=void 0;if(e._contextSwitchInfo||2===e.nodeType&&e.ownerElement._contextSwitchInfo){c=e._contextSwitchInfo||e.ownerElement._contextSwitchInfo;var m=[];LyteComponent.changeContext(c.node,m,c)}else if("LYTE-YIELD"===e.tagName&&e._callee._contextSwitchInfo){d=!0,c=e._callee._contextSwitchInfo;m=[];LyteComponent.changeContext(c.node,m,c,!0)}var u=void 0;if(e.helperValue){var f=u=e.helperValue;if(u=this.processHelper({name:f.name,args:this.processArgs(this,f.args)},e),"unescape"===f.name){for(var h=e.dynamicPositions,_=h.startingNode,v=h.length;v>1;){var y=_.nextSibling;_.remove(),_=y,v--}var g=u.childNodes.length;g||(u.appendChild(document.createTextNode("")),g=1);var b=u.childNodes[0];_.replaceWith.apply(_,u.childNodes);var C={startingNode:b,length:g};e.dynamicPositions=C}}else{var A=e.syntaxValue,L=void 0;-1===A.indexOf(".")&&-1===A.indexOf("[")||(L=A,A=A.substring(0,A.indexOf(".")));var N=[],w=L?LyteComponent.get(this.component.data,L,N):this.component.data[A];if(n){var x=this.getProperty(N[0]),S=this.getProperty(N[0].substring(0,N[0].indexOf("."))),P=this.getData(N[0].substring(0,N[0].indexOf(".")));if("dynamicNodes"===n)x._dynamicNodes||Object.defineProperty(x,"_dynamicNodes",{value:[],enumerable:!1,writable:!0,configurable:!0}),x._dynamicNodes.push(e);else{x._helperNodes||Object.defineProperty(x,"_helperNodes",{value:new Set,writable:!0,enumerable:!1,configurable:!0}),x._helperNodes.add(r.helperNode);var I=r.dynamicProp;I[x._path]?I[x._path].push(e):(I[x._path]=[]).push(e)}LyteComponent.establishBindings(S,P),e._multipleProperty.actProp=x}u="boolean"===!(void 0===w||_typeof(w))&&"number"===!(void 0===w||_typeof(w))?w||"":w}if(2===e.nodeType){var E=[],k=e._parentNode?e._parentNode:e.ownerElement;if("TEMPLATE"===k.tagName&&"component"===k.getAttribute("is")&&"component-name"!==e.nodeName){if(k.hasAttribute("lyte-keep-alive"))for(var O in k._renderedComponent)E.push(k._renderedComponent[O]);else E.push(k._renderedComponent[k.getAttribute("component-name")])}else E.push(k);for(var B=0;B<E.length;B++){var j=E[B];if(j.set?j.set(LyteComponent.String.toCamelCase(e.nodeName),u):(j._initProperties=j._initProperties||{},j._initProperties[LyteComponent.String.toCamelCase(e.nodeName)]=u),"LYTE-YIELD"===j.tagName&&j.component.data&&e.nodeName&&j.component.data[e.nodeName]!==u&&LyteComponent.set(j.component.data,LyteComponent.String.toCamelCase(e.nodeName),u,void 0,j),j._attributes=j._attributes||{},LyteComponent.isCustomElement(j,!0)&&"string"!=typeof u&&void 0!==u){if("TEMPLATE"===e.ownerElement.nodeName&&e.helperValue&&("for"===e.ownerElement.getAttribute("is")&&"items"===e.nodeName||"forIn"===e.ownerElement.getAttribute("is")&&"object"===e.nodeName)){var H=e.ownerElement._attributes[e.nodeName],D=u;LyteComponent.removeSelectedBindingDeep(e.ownerElement._actualBinding,H),D&&(D._bindings||Object.defineProperty(D,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),D._bindings.add(e.ownerElement._actualBinding),LyteComponent.establishBindings(e.ownerElement._actualBinding,D)),"object"===e.nodeName&&LyteComponent.removeSelectedBindingDeep(e.ownerElement._propBindingObject,H)}j.removeAttribute(e.nodeName)}else"boolean"==typeof u?(j._attributes=j._attributes||{},j._attributes[e.nodeName]=u,u?j.setAttribute(e.nodeName,""):j.removeAttribute(e.nodeName)):e.nodeValue=u="object"===(void 0===u?"undefined":_typeof(u))?"undefined"!=typeof Record&&u instanceof Record?JSON.stringify(u.$.toJSON()):JSON.stringify(u):u;j._attributes[e.nodeName]=u,/^(INPUT|TEXTAREA|SELECT)$/.test(j.nodeName)&&("value"===e.nodeName?j.value=u:"checked"===e.nodeName&&(j.checked=u));var T=j._isStopped,M=void 0;switch(j.getAttribute("is")){case"for":this.updateForHelper(j,{type:"update"});break;case"if":M=this.updateSwitchHelper("if",j,void 0,!0);break;case"forIn":this.updateForInHelper(j,{type:"update"});break;case"switch":this.updateSwitchHelper("switch",j,void 0,!0);break;case"component":this.updateDynamicComponent(j,"update")}var V=void 0;T&&T!==M?V=M?"break"===M?"MS":"SM":"break"===T?"SM":"SS":"break"===M?V="MS":"continue"===M&&(V="SS"),V&&this.handleBreak(j._contextSwitchInfo,V)}}else e.nodeValue=void 0===u?"":u;c&&LyteComponent.removeContext(c.node,m,c,d)}}},{key:"handleBreak",value:function(e,t){if(e){for(var n=e.node,r=e.itemIndex,o=(n.getAttribute("item"),e.node._forContent),i="M"===t[0]?o.length:r+1,a=r;a<i;a++){for(var s=o[a],l=0;l<s.length;l++)s[l].remove(),(s[l]._forContent||s[l]._caseContent)&&this.removeHelpers(s[l]);o[a]=[],LyteComponent.removeSelectedBindingDeep(n._items[a].itemProperty,n._attributes.items[a]),n._helpers[a]=[],n._items[a]={_dynamicProperty:{},itemProperty:{},indexProperty:{}}}var p=n._attributes.items.length;"M"===t[1]?this.updateForHelper(n,{firstIndex:r,secondIndex:p-r,type:"replace"},void 0,{}):this.updateForHelper(n,{firstIndex:r,secondIndex:1,type:"replace"},void 0,{})}}},{key:"createCustomEvent",value:function(e,t,n){var r=new CustomEvent(e);t._actions[e]=r,t._actions[e].processAction=n}},{key:"isEmptyString",value:function(e){return!("string"==typeof e)||""===e}},{key:"processArgs",value:function(e,t,n,r,o){n=n||[],t=Array.isArray(t)?Array.from(t):t;for(var i=0;i<t.length;i++)if(this.isEmptyString(t[i]))t[i]&&t[i].type&&this.internalHelpers(e,t,i,n,r,o);else if(t[i].startsWith("'")&&t[i].endsWith("'"))t[i]=t[i].substr(1,t[i].length-2);else{t[i]=t[i].trim();var a=[];r?"event"===t[i]?t[i]=r:"this"===t[i]?t[i]=o:t[i]=LyteComponent.get(e.component.data,t[i],a):t[i]=LyteComponent.get(e.component.data,t[i],a),n.push(a)}return t}},{key:"internalHelpers",value:function(e,t,n,r,o,i){var a=t[n].value,s=this.processHelper({name:a.name,args:this.processArgs(e,a.args,r,o,i)});t[n]=s}},{key:"processHelper",value:function(e,t){var n=[];if("method"===e.name&&n.push(this,t),"lbind"===e.name&&n.push(t.ownerElement),Lyte.Component.registeredHelpers[e.name])return Lyte.Component.registeredHelpers[e.name].apply(this,n.concat(e.args));console.error("helper ",e.name," is not defined")}},{key:"getActionProperty",value:function(e){var t=this._properties;return t?t[e].value:void 0}},{key:"hasInternalBindings",value:function(e){return e.match(/[(]{1}[^)]+[)]{1}/)}},{key:"getArgValues",value:function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t[e[r]].value);return n}},{key:"createEventListeners",value:function(e,t,n){var r=this;if(e._callee=this,!/^(focus|focusin|focusout|resize|scroll|click|dblclick|mousedown|mouseup|mousemove|mouseover|mouseout|mouseenter|mouseleave|change|select|submit|keydown|keypress|keyup|contextmenu)$/.test(t)){var o=t.substr(2),i=(e.getAttribute(o),function(o){var i;window.event||(window.event=o,i=!0),LyteComponent.throwAction.call(r,r,t.substr(2),n,void 0,void 0,e,o),i&&(window.event=void 0)});Lyte.Component.registeredComponents[e.localName]&&!e.component||"TEMPLATE"===e.tagName&&"component"===e.getAttribute("is")?(e._toRegEvnts=e._toRegEvnts||{},e._toRegEvnts[t.substr(2)]={listener:i,attrVal:this.tagName.toLowerCase()+" => "+n.name}):(e.setAttribute(o,this.tagName.toLowerCase()+" => "+n.name),e.addEventListener(t.substr(2),i)),e.hasAttribute(t)&&(e[t]=void 0),e.removeAttribute(t)}}},{key:"registerYields",value:function(){this._yields={};for(var e=this.querySelectorAll("template[is=registerYield],template[is=yield]"),t=0;t<e.length;t++)this._yields[e[t].getAttribute("yield-name")]=e[t]}},{key:"connectedCallback",value:function(){if(!this.hasAttribute("lyte-rendered")&&Lyte.Component.registeredComponents[this.localName]){var e=this.constructor._templateAttributes;if(e&&e.attr)for(var t in e.attr){var n=e.attr[t];if(!this.hasAttribute(n.name)&&!this.component.data.hasOwnProperty(n.name)||n.globalEvent)if(n.globalEvent){this._evBoundEvents=this._evBoundEvents||{};var r=n.helperInfo.args[0],o=void 0;r.startsWith('"')||r.startsWith("'")?o=r.substring(1,r.length-1):(console.warn("Deprecation warning. Action name should be in quotes"),o=r),this._evBoundEvents[n.name]={name:o,args:n.helperInfo.args,from:"component"};var i=this.getAttribute(n.name),a=this.constructor._template.getAttribute(n.name);this.setAttribute(n.name,a+(i?" ; "+i:""))}else n.from="component",n.staticValue?this.setAttribute(e.attr[t].name,n.staticValue):(this.setAttribute(e.attr[t].name,""),this.bindNode(this.getAttributeNode(e.attr[t].name),[],void 0,{},e.attr[t],void 0,void 0,!0))}for(var s in this._toRegEvnts)this.addEventListener(s,this._toRegEvnts[s].listener),this.hasAttribute(s)?this.setAttribute(s,this.getAttribute(s)+" ; "+this._toRegEvnts[s].attrVal):this.setAttribute(s,this._toRegEvnts[s].attrVal);this._toRegEvnts={};var l=this.afterConnected();LyteComponent.establishObserverBindings.call(this,this.constructor._observers),Object.defineProperty(this.component,"_bindings",{enumerable:!1,writable:!0,configurable:!0,value:new Set}),this.component._bindings.add(this._properties),LyteComponent.establishBindings(this._properties,this.component.data),this.appendChild(l),"CRM-STAGEBOARD"!=this.tagName&&"TEST-COMPONENT5"!==this.tagName||console.timeEnd(this.tagName),this.setAttribute("lyte-rendered","");var p=new CustomEvent("onReady");this.dispatchEvent(p),this.callback("didConnect"),this.onCallBack("didConnect")}}},{key:"onCallBack",value:function(e){var t=this.constructor._callBacks[e];if(t)for(var n=0;n<t.length;n++)t[n].value.call(this.component)}},{key:"callback",value:function(e){var t=this.component[e];t&&t.apply(this.component)}},{key:"establishObserverBindings",value:function(){for(var e=this.constructor._observers,t=0;t<e.length;t++)for(var n=e[t].properties,r=0;r<n.length;r++){var o=void 0,i=!1;-1!==n[r].indexOf(".[]")?(i=!0,o=this.getProperty(n[r].substring(0,n[r].indexOf(".[]")))):o=this.getProperty(n[r]),o._observers||Object.defineProperty(o,"_observers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),o._observers.add({callee:this,observer:e[t],isArrayObserver:i})}}},{key:"removeBindings",value:function(e,t){for(var n in e){var r=t[n];r&&r._bindings&&r._bindings.delete(e[n]),"object"===_typeof(e[n])&&r&&this.removeBindings(e[n],r)}}},{key:"disconnectedCallback",value:function(){if(!LyteComponent.ignoreDisconnect){this.component._bindings=null,LyteComponent.removeSelectedBindingDeep(this._properties,this.component.data);for(var e in this._properties)this._properties[e]={};this.callback("didDestroy"),this.onCallBack("didDestroy");var t=this;setTimeout(function(){t.component.$node=null,t.component.__data=null,t.component.data.__component__=null,t.component.data=null,t.component=null,t=null},0),this.constructor.activeInstances--}}}],[{key:"getArrayIndex",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n}},{key:"getTrimmedContent",value:function(e,t,n){var r=e;if(n){t=[];for(var o=n.parentNode;t.unshift(this.getArrayIndex(o.childNodes,n)),o=o.parentNode,n=n.parentNode,o;);}for(var i=0;i<t.length;i++){for(var a=e.childNodes.length-1;a>t[i];a--)e.childNodes[a].remove();e=e.childNodes[t[i]]}return r}},{key:"updateValue",value:function(e,t,n){for(var r=t.split("."),o=e,a=0;a<r.length-1;a++)o=o[r[a]];o[r[i]]=n}},{key:"createDocFragment",value:function(e){for(var t=e.cloneNode(!0,"lyte").childNodes,n=document.createDocumentFragment(),r=t.length,o=0;o<r;o++)n.appendChild(t[0]);return n}},{key:"_registerComponent",value:function(e,t){var n=LyteComponent.lyteComponentsDiv;if(this._template&&"string"==typeof this._template){this._template.replace(/\\'/g,"'");var r=document.createElement("div");for(r.innerHTML=this._template;r.firstChild;)n.appendChild(r.firstChild)}else document.querySelector("template[tag-name='"+e+"']")&&n.appendChild(document.querySelector("template[tag-name='"+e+"']"));if(this._template=n.querySelector("template[tag-name='"+e+"']"),this._template){if(this._template&&!this._template.content){for(var o=document.createDocumentFragment(),i=this._template.cloneNode(!0,"lyte").childNodes,a=i.length,s=0;s<a;s++)o.appendChild(i[0]);this._template.content=o}var l=this._template.content;if(this.splitTextNodes(l),this._dynamicNodes){if(doCompile(l,this._dynamicNodes,e),this._templateAttributes){var p=[this._templateAttributes];if(doCompile(this._template,p,e),this._templateAttributes=p[0],this._templateAttributes&&this._templateAttributes.attr){var c=this._template.attributes;try{for(var d=0;d<c.length;d++)this._templateAttributes.attr[c[d].name]||"tag-name"===c[d].name||"use-strict"===c[d].name||(this._templateAttributes.attr[c[d].name]={name:c[d].name,staticValue:c[d].value})}catch(e){console.error("Error with templateAttributes. ")}}}}else console.error("Component "+e+" is not compiled. Please compile using Lyte CLI. ")}}},{key:"splitTextNodes",value:function(e){if(e&&e.childNodes&&e.childNodes.length)for(var t=e.childNodes.length-1;t>=0;t--)this.splitTextNodes(e.childNodes[t]);if("TEMPLATE"===e.tagName&&(e.content||(e.content=this.createDocFragment(e)),this.splitTextNodes(e.content)),e.nodeType===e.TEXT_NODE){var n=e.nodeValue;if(n){var r=n.match(/{{[^}]*?(?:(?:('|")[^\1]*?\1)[^}]*?)*}}/g);if(!r)return;for(var o=[],i=0;i<r.length;i++){var a=n.indexOf(r[i]),s=a+r[i].length;a&&o.push(document.createTextNode(n.substring(0,a))),o.push(document.createTextNode(n.substring(a,s))),n=n.substring(s)}(n.trim()||!e.nextSibling||3!==e.nextSibling.nodeType||e.nextSibling.nodeValue.trim())&&o.push(document.createTextNode(n)),e.replaceWith.apply(e,o)}}}},{key:"observedAttributes",get:function(){for(var e=[],t=0;t<this._observedAttributes.length;t++)e[t]=LyteComponent.String.dasherize(this._observedAttributes[t]);return e.push("lt-prop"),e}}]),t}();Function.prototype.on=function(){return{type:"callBack",value:"observer"===this.type?this.value:this,properties:arguments,observes:"observer"===this.type?this:void 0}},Function.prototype.observes=function(){return{type:"observer",value:this,properties:arguments,on:Function.prototype.on}},Function.prototype.computed=function(){return{type:"computed",value:this,properties:arguments}};var LyteComponent={_registeredComponents:{},toBeRegistered:[],throwEvent:function(e){var t=this.$node?this.$node:this,n=t._actions?t._actions[e]:void 0,r=[];if(arguments.length>1)for(var o=1;o<arguments.length;o++)r.push(arguments[o]);LyteComponent.throwAction.call(t,t._callee,e,void 0,!0,r,t),this.$node&&t.dispatchEvent(n||new CustomEvent(e,{detail:r}))},throwAction:function(e,t,n,r,o,i,a,s){var l=void 0;if(this._route&&r)l=(e=this._route).actions||(e.actions={});else if(this.routeName){var p=this.parent;p&&(l=p.component?(e=p.component).constructor._actions:(e=p).actions||(e.actions={}))}else e&&(l=e.constructor._actions);if(e){n=n||(this._actions&&this._actions[t]?this._actions[t].processAction:void 0);var c=o||[];if(n){var d=[];if(i&&LyteComponent.newAddContext(i,d),c.splice.apply(c,[0,0].concat(this.processArgs(e,n.args,void 0,a,i))),i&&LyteComponent.newRemoveContext(i,d),l[n.name])if(r)l[n.name].apply(this._callee.component,c),s=!0;else{var m=i.parentNode;if(s=!0,!1!==l[n.name].apply(this.component,c))if(n.from&&i.getAttribute(a.type)&&i._boundEvents&&i._boundEvents[a.type]){i._callee.constructor._actions;var u=i._boundEvents[a.type],f=Lyte.deepCopyObject(u);f.args.shift(),LyteComponent.throwAction.call(i._callee,i._callee,a.type,f,void 0,void 0,i,a,s)}else if(LyteComponent.isCustomElement(i)&&(e=m),m){for(;m&&!m.getAttribute(t)&&"BODY"!=m.tagName;)m=m.parentNode;if(!m||"BODY"===m.tagName)return;if(m._callee||(m._callee=m.getCallee?m.getCallee(m):this.getCallee(m)),m&&a.type===t&&!a.cancelBubble)if(m._evBoundEvents&&m._evBoundEvents[t]){var h=m._evBoundEvents[t],_=Lyte.deepCopyObject(h);_.args.shift(),LyteComponent.throwAction.call(m._callee,m._callee,t,_,void 0,void 0,m,a,s)}else if(m&&m._boundEvents&&m._boundEvents[t]){var v=m._boundEvents[t],y=Lyte.deepCopyObject(v);y.args.shift(),LyteComponent.throwAction.call(m._callee,m._callee,t,y,void 0,void 0,m,a,s)}}}else console.error("Action named "+n.name+" doesn't exist")}else if(r){var g=l[t]||l[LyteComponent.String.toCamelCase(t)]||l[LyteComponent.String.dasherize(t)];if(g){var b=LyteComponent.isCustomElement(e)?e.component:e;s=!0,!1!==g.apply(b,c)&&LyteComponent.throwAction.call(e,e._callee,t,n,r,o,void 0,void 0,s)}else LyteComponent.throwAction.call(e,e._callee,t,n,r,o,void 0,void 0,s)}}else s||console.warn("Nothing handled the action "+t+".")},processHelperArgs:function(){},isControlHelper:function(e){return"TEMPLATE"===e.tagName&&e.getAttribute("is")&&"component"!==e.getAttribute("is")},isCustomElement:function(e,t){return"TEMPLATE"===e.tagName&&t||e.nodeName&&-1!==e.nodeName.indexOf("-")&&(Lyte.Component.registeredComponents[e.localName]||"LYTE-YIELD"===e.tagName)},componentSet:function(e,t,n){(n||this.get(e)!==t)&&LyteComponent.set(this.data,e,t,void 0,this.$node)},componentGet:function(e){return e?LyteComponent.get(this.data,e):this.data},nodeGet:function(e){return e?this.component.get(e):this.component.data},nodeSet:function(e,t){this.component.set(e,t)},registerComponent:function(e,t,n){function r(){}if(Lyte.Component.registeredComponents[e])console.warn("Component "+e+" already registered");else{var o=void 0;LyteComponent._registeredComponents[e]?o=LyteComponent._registeredComponents[e]:((o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,customElementPrototype),t}())._properties={},o.activeInstances=0,o.prototype.get=this.nodeGet,o.prototype.set=this.nodeSet,o.prototype.throwAction=this.throwAction);var i=[];(n=n||{}).mixins&&n.mixins.forEach(function(e){i.push(Lyte.registeredMixins[e])}),o.component=r,r.prototype.set=this.componentSet,r.prototype.get=this.componentGet,r.prototype.throwEvent=this.throwEvent,r.prototype.executeMethod=LyteComponent.executeMethod,r.prototype.getData=LyteComponent.componentGetData,r.prototype.setData=LyteComponent.componentSetData,r.prototype.getMethods=LyteComponent.componentGetMethods,r.prototype.setMethods=LyteComponent.componentSetMethods,o._mixins=n.mixins;for(var a=i.length,s=0;s<a;s++)for(var l in i[s])r.prototype[l]=i[s][l];o._actions=t.actions?t.actions:{},o._template=t._template,delete t._template,o._dynamicNodes=t._dynamicNodes,delete t._dynamicNodes,o._templateAttributes=t._templateAttributes,delete t._templateAttributes,o._callBacks={},o._observers=[];var p=t.data?t.data:void 0,c=t.methods?t.methods:{};o._observedAttributes=t._observedAttributes||[],o._observedMethodAttributes=t._observedMethodAttributes||{},delete t._observedAttributes,delete t._observedMethodAttributes,delete t.data,delete t.methods;for(var d in t)if("observer"===t[d].type)o._observers.push(t[d]);else if("callBack"===t[d].type){for(var m=t[d].properties,u=0;u<m.length;u++)o._callBacks[m[u]]||(o._callBacks[m[u]]=[]),o._callBacks[m[u]].push(t[d]);t[d].observes&&o._observers.push(t[d].observes)}else r.prototype[d]=t[d];o._data=p,o._methods=c,o._registerComponent(e,o),Lyte.Component.registeredComponents[e]=!0,LyteComponent._registeredComponents[e]||("complete"===document.readyState||"interactive"===document.readyState?customElements.define(e,o):LyteComponent.toBeRegistered.push({name:e,def:o})),LyteComponent._registeredComponents[e]=o}},registerHelper:function(e,t){Lyte.Component.registeredHelpers[e]=t},registerMixin:function(e,t){Lyte.Mixin.register.call(Lyte,e,t)},update:function(e,t,n,r,o,i,a){var s=e.__component__;if(!o)if(o=e[t],e.hasOwnProperty(t)||e instanceof Array||LyteComponent.objectFunctions(e,"add",t,n,!0),s&&"LYTE-YIELD"!==s.tagName){var l=Lyte.validate(e,t,n,s.component);if(l)return void LyteComponent.set(s.component.data.errors,t,l);s.component.data.errors[t]&&Lyte.objectUtils(s.component.data.errors,"delete",t),e[t]=n}else e[t]=n;var p=!!s;if(s&&a&&"string"==typeof n&&s.getAttribute(LyteComponent.String.dasherize(t))!==n){var c=LyteComponent.String.dasherize(t),d=void 0;c.startsWith("lt-prop")&&(d=s.ltProp())&&d.hasOwnProperty(LyteComponent.String.toCamelCase(c.substring(8)))||s.setAttribute(LyteComponent.String.dasherize(t),n)}if(n&&"string"!=typeof n&&"boolean"!=typeof n&&"number"!=typeof n){if(o&&"object"===(void 0===o?"undefined":_typeof(o))&&o._bindings){if(n._bindings||Object.defineProperty(n,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),s&&s.component.data===e&&-1===t.indexOf(".")){var m=s.getProperty(t);if(this.removeSelectedBindingDeep(m,o),n._bindings.add(m),this.establishBindings(m,n),m._forHelpers)for(var u=m._forHelpers.toArray(),f=0;f<u.length;f++){var h=u[f];h._propBindingObject&&this.removeSelectedBindingDeep(h._propBindingObject,o)}this.affectChanges(m,void 0,o,i,e[t])}else if(e._bindings)for(var _=e._bindings.toArray(),v=0;v<_.length;v++){var y=_[v][t];if(y){if(this.removeSelectedBindingDeep(y,o),n._bindings.add(y),this.establishBindings(y,n),y._forHelpers)for(var g=y._forHelpers.toArray(),b=0;b<g.length;b++){var C=g[b];C._propBindingObject&&this.removeSelectedBindingDeep(C._propBindingObject,o)}this.affectChanges(y,void 0,o,i,e[t])}}}else if(n._bindings||Object.defineProperty(n,"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),e._bindings)for(var A=e._bindings.toArray(),L=0;L<A.length;L++){var N=A[L];N[t]&&(n._bindings.add(N[t]),this.establishBindings(N[t],n),this.affectChanges(N[t],void 0,o,i,e[t]))}}else{if(o&&"object"===(void 0===o?"undefined":_typeof(o))&&o._bindings)for(var w=e._bindings.toArray(),x=0;x<w.length;x++){var S=w[x];if(S[t]&&(this.removeSelectedBindingDeep(S[t],o),S[t]._forHelpers))for(var P=S[t]._forHelpers.toArray(),I=0;I<P.length;I++){var E=P[I];E._propBindingObject&&this.removeSelectedBindingDeep(E._propBindingObject,o)}}if(e._bindings)for(var k=e._bindings.toArray(),O=0;O<k.length;O++){var B=k[O];B[t]&&this.affectChanges(B[t],void 0,o,i,e[t])}}if(p&&s._attributeDetails){var j=s._attributeDetails[LyteComponent.String.dasherize(t)],H=void 0;if(j&&j.isLbind&&(H=j.dynamicValue),H){var D=void 0;s._contextSwitchInfo&&(D=[],LyteComponent.changeContext(s._contextSwitchInfo.node,D,s._contextSwitchInfo));var T=LyteComponent.getNew(s._callee.component.data,H),M=!1;T.context===s._callee.component.data?s._callee._properties[T.lastKey]&&s._callee._properties[T.lastKey].__fromComponent&&(M=!0):M=!0,M&&LyteComponent.set(T.context,T.lastKey,n,void 0,s._callee),D&&LyteComponent.removeContext(s._contextSwitchInfo.node,D,s._contextSwitchInfo)}}},set:function(e,t,n,r){if("string"!=typeof t||e[t]!==n){var o=-1,i=t;if(t instanceof Object||(o=t.lastIndexOf(".")),-1!==o){var a=t.substring(0,o);t=t.substring(o+1),e=LyteComponent.get(e,a)}var s=[];if(e._setterScope)var l=e._setterScope;if(i=i===t?i:void 0,t instanceof Object)if(Lyte.isRecord(e)&&!r){for(var p in t)Array.isArray(e[p])?s.push({key:p,oldValue:e[p].slice(0)}):s.push({key:p,oldValue:e[p]});var c=store.$.setData(e.$,t);if(c.$.isError)return c;for(var d=0;d<s.length;d++)LyteComponent.update(e,s[d].key,e[s[d].key],r,void 0===s[d].oldValue?null:s[d].oldValue,l,i)}else for(var m in t)LyteComponent.update(e,m,t[m],r,void 0,l,i);else if(Lyte.isRecord(e)&&!r){var u=e[t],f=store.$.setData(e.$,t,n);if(f.$.isError)return f;LyteComponent.update(e,t,n,r,void 0===u?null:u,l,i)}else LyteComponent.update(e,t,n,r,void 0,l,i)}},newAddContext:function(e,t){var n="LYTE-YIELD"===e.tagName;e._contextSwitchInfo?LyteComponent.changeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,n):n&&e._callee._contextSwitchInfo&&LyteComponent.changeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo,!0)},newRemoveContext:function(e,t){var n="LYTE-YIELD"===e.tagName;e._contextSwitchInfo?LyteComponent.removeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,n):n&&e._callee._contextSwitchInfo&&LyteComponent.removeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo,!0)},changeContext:function(e,t,n,r){if(n){e._contextSwitchInfo?LyteComponent.changeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,"LYTE-YIELD"===e.tagName||r):("LYTE-YIELD"===e.tagName||r)&&e._callee&&e._callee._contextSwitchInfo&&LyteComponent.changeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo);var o=void 0,i=void 0;if(n.type){if("for"===n.type){if(o=e.getAttribute("index"),i=e.getAttribute("item"),0===e._items.length)return}else if(o=e.getAttribute("key"),i=e.getAttribute("value"),0===Object.keys(e._items).length)return;var a=e._callee,s=a.component.data[i],l=a.component.data[o],p=a._properties[i],c=a._properties[o],d="for"===n.type?e._attributes.items:e._attributes.object;a.component.data[i]=d[n.itemIndex],a.component.data[o]=n.itemIndex,a._properties[i]=e._items[n.itemIndex].itemProperty,a._properties[o]={};var m={initialItemValue:s,initialIndexValue:l,initialItemProp:p,initialIndexProp:c};t.push(m)}else{var u={},f=e._callee._callee;Object.keys(n.node._properties).forEach(function(e){u[e]={},u[e].value=f.component.data[e],u[e].property=f._properties[e],f._properties[e]=n.node._properties[e],f.component.data[e]=n.node.component.data[e]}),t.push(u)}}},removeContext:function(e,t,n,r){if(n){e._contextSwitchInfo?LyteComponent.removeContext(e._contextSwitchInfo.node,t,e._contextSwitchInfo,"LYTE-YIELD"===e.tagName||r):("LYTE-YIELD"===e.tagName||r)&&e._callee&&e._callee._contextSwitchInfo&&LyteComponent.removeContext(e._callee._contextSwitchInfo.node,t,e._callee._contextSwitchInfo);var o=void 0,i=void 0;if(n.type){if("for"===n.type){if(o=e.getAttribute("index"),i=e.getAttribute("item"),0===e._items.length)return}else if(o=e.getAttribute("key"),i=e.getAttribute("value"),0===Object.keys(e._items).length)return;var a=e._callee,s=(e._attributes.items,t.shift());a.component.data[i]=s.initialItemValue,a.component.data[o]=s.initialIndexValue,a._properties[i]=s.initialItemProp,a._properties[o]=s.initialIndexProp}else{var l=e._callee._callee,p=t.shift();Object.keys(n.node._properties).forEach(function(e){l.component.data[e]=p[e].value,l._properties[e]=p[e].property})}}},objectFunctions:function(){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4];if("add"!==t||o){var i={};if(i.type=t,i.property=n,/^(add|delete)$/.test(t)){var a=e._bindings;if("delete"===t&&LyteComponent.set(e,n,void 0),a)for(var s=a.toArray(),l=0;l<s.length;l++){var p=s[l]._forHelpers;if(p)for(var c=p.toArray(),d=0;d<c.length;d++){var m=c[d],u=(m.getAttribute("key"),[]);"add"===t&&LyteComponent.newAddContext(m,u),m._callee.updateForInHelper(m,i),"add"===t&&LyteComponent.newRemoveContext(m,u)}}"delete"===t&&delete e[n]}else console.error("No such function exists in objectFunctions")}else LyteComponent.set(e,n,r)},arrayFunctions:function(){var e=arguments[0],t=arguments[1];if(!/^(replaceAt|removeAt|shift)$/.test(t)||e.length)switch(t){case"replaceAt":var n=parseInt(arguments[2]);if(n>e.length)return console.warn("index provided for replaceAt is greater than array length"),[];var r=arguments[3];r instanceof Array||(r=[r]);var o=e.splice.apply(e,[n,1].concat(r)),i={firstIndex:n,secondIndex:r.length,type:"replace"};if(e._bindings)for(var a=e._bindings.toArray(),s=0;s<a.length;s++){var l=a[s];if(l._forHelpers)for(var p=l._forHelpers.toArray(),c=0;c<p.length;c++){for(var d=p[c],m=n+o.length,u=d.getAttribute("item"),f=n,h=0;f<m;f++,h++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},u,d._items[f].itemProperty),_defineProperty({},u,o[h]));var _=[];LyteComponent.newAddContext(d,_),d._callee.updateForHelper(d,i),LyteComponent.newRemoveContext(d,_)}for(var v in l){var y=parseInt(v);if(!isNaN(y)&&y>=i.firstIndex){var g=y-i.firstIndex,b=void 0;if(b=g<=i.thirdIndex?o[g]:e[i.firstIndex-1+i.secondIndex+g],this.removeSelectedBindingDeep(l[v],b),l[v]._forHelpers)for(var C=l[v]._forHelpers.toArray(),A=0;A<C.length;A++){var L=C[A];L._propBindingObject&&this.removeSelectedBindingDeep(L._propBindingObject,b)}e[y]&&(e[y]._bindings||Object.defineProperty(e[y],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:l[v]},{dummy:e[y]})),this.affectChanges(l[v])}}}return LyteComponent.callArrayObservers(e,{type:"array",insertedItems:r,index:n}),o[0];case"splice":var N=parseInt(arguments[2]);if(N>e.length)return console.warn("index provided for replaceAt is greater than array length"),[];var w=arguments[3],x=arguments[4];x instanceof Array||(x=[x]);var S=e.splice.apply(e,[N,w].concat(x)),P={firstIndex:N,secondIndex:x.length,thirdIndex:w,type:"splice"};if(e._bindings)for(var I=e._bindings.toArray(),E=0;E<I.length;E++){var k=I[E];if(k._forHelpers)for(var O=k._forHelpers.toArray(),B=0;B<O.length;B++){for(var j=O[B],H=N+S.length,D=j.getAttribute("item"),T=N,M=0;T<H;T++,M++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},D,j._items[T].itemProperty),_defineProperty({},D,S[M]));var V=[];LyteComponent.newAddContext(j,V),j._callee.updateForHelper(j,P),LyteComponent.newRemoveContext(j,V)}for(var Y in k){var F=parseInt(Y);if(!isNaN(F)&&F>=P.firstIndex){var R=F-P.firstIndex,W=void 0;if(W=R<=P.thirdIndex?S[R]:e[P.firstIndex-P.thirdIndex+P.secondIndex+R],this.removeSelectedBindingDeep(k[Y],W),k[Y]._forHelpers){var $=k[Y]._forHelpers.toArray();for(A=0;A<$.length;A++){var q=$[A];q._propBindingObject&&this.removeSelectedBindingDeep(q._propBindingObject,W)}}e[F]&&(e[F]._bindings||Object.defineProperty(e[F],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:k[Y]},{dummy:e[F]})),this.affectChanges(k[Y])}}}return LyteComponent.callArrayObservers(e,{type:"array",index:N,insertedItems:x,removedItems:S}),S;case"push":var z=arguments[2];z instanceof Array||(z=[z]),LyteComponent.arrayFunctions(e,"insertAt",e.length,z);break;case"pop":return LyteComponent.arrayFunctions(e,"remove",e.length-1)[0];case"shift":case"shiftObject":return LyteComponent.arrayFunctions(e,"remove",0)[0];case"removeAt":case"remove":var J=parseInt(arguments[2]);if(J>e.length)return console.warn("index provided for removeAt is greater than array length"),[];var G=arguments[3]?parseInt(arguments[3]):1,U={firstIndex:J,secondIndex:G,type:"remove"},K=e.splice(J,G);if(e._bindings)for(var X=e._bindings.toArray(),Z=0;Z<X.length;Z++){var Q=X[Z];if(Q._forHelpers)for(var ee=Q._forHelpers.toArray(),te=0;te<ee.length;te++){for(var ne=ee[te],re=J+K.length,oe=ne.getAttribute("item"),ie=J,ae=0;ie<re;ie++,ae++)LyteComponent.removeSelectedBindingDeep(_defineProperty({},oe,ne._items[ie].itemProperty),_defineProperty({},oe,K[ae]));var se=[];LyteComponent.newAddContext(ne,se),ne._callee.updateForHelper(ne,U),LyteComponent.newRemoveContext(ne,se)}for(var le in Q){var pe=parseInt(le);if(!isNaN(pe)&&pe>=U.firstIndex){var ce=pe-U.firstIndex,de=void 0;if(de=ce<U.secondIndex?K[ce]:e[U.firstIndex-U.secondIndex+ce],this.removeSelectedBindingDeep(Q[le],de),Q[le]._forHelpers){var me=Q[le]._forHelpers.toArray();for(A=0;A<me.length;A++){var ue=me[A];ue._propBindingObject&&this.removeSelectedBindingDeep(ue._propBindingObject,de)}}e[pe]&&(e[pe]._bindings||Object.defineProperty(e[pe],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:Q[le]},{dummy:e[pe]})),this.affectChanges(Q[le])}}}return LyteComponent.callArrayObservers(e,{type:"array",removedItems:K,index:J}),K;case"unshift":case"unshiftObject":case"unshiftObjects":var fe=arguments[2];fe instanceof Array||(fe=[fe]),LyteComponent.arrayFunctions(e,"insertAt",0,fe);break;case"insertAt":var he=parseInt(arguments[2]),_e=arguments[3],ve=_e.length;_e instanceof Array||(_e=[_e]);for(var ye=he;ye>e.length;ye--)_e.unshift(void 0),he--;var ge={firstIndex:he,secondIndex:_e.length,type:"insert"};if(e.splice.apply(e,[he,0].concat(_e)),e._bindings)for(var be=e._bindings.toArray(),Ce=0;Ce<be.length;Ce++){var Ae=be[Ce];if(Ae._forHelpers)for(var Le=Ae._forHelpers.toArray(),Ne=0;Ne<Le.length;Ne++){var we=Le[Ne],xe=[];LyteComponent.newAddContext(we,xe),we._callee.updateForHelper(we,ge),LyteComponent.newRemoveContext(we,xe)}for(var Se in Ae){var Pe=parseInt(Se);if(!isNaN(Pe)&&Pe>=ge.firstIndex){if(this.removeSelectedBindingDeep(Ae[Se],e[Pe+ge.secondIndex]),Ae[Se]._forHelpers){var Ie=Ae[Se]._forHelpers.toArray();for(A=0;A<Ie.length;A++){var Ee=Ie[A];Ee._propBindingObject&&this.removeSelectedBindingDeep(Ee._propBindingObject,oldObject)}}e[Pe]&&(e[Pe]._bindings||Object.defineProperty(e[Pe],"_bindings",{enumerable:!1,writable:!0,value:new Set,configurable:!0}),this.establishBindings({dummy:Ae[Se]},{dummy:e[Pe]})),this.affectChanges(Ae[Se])}}}LyteComponent.callArrayObservers(e,{type:"array",insertedItems:arguments[3]instanceof Array?arguments[0].slice(parseInt(arguments[2]),ve+1):[arguments[3]],index:parseInt(arguments[2])});break;case"concat":LyteComponent.arrayFunctions(e,"insertAt",e.length,arguments[2]);break;default:return void console.error("array Function "+t+" doesn't exist")}else console.warn(t+" operation cannot be performed on empty array")},callArrayObservers:function(e,t){if(e._bindings)for(var n=e._bindings.toArray(),r=0;r<n.length;r++){var o=n[r],i=n[r]._path;if(o._observers)for(var a=o._observers.toArray(),s=0;s<a.length;s++){var l=a[s];l.isArrayObserver&&(t&&(t.item=i),l.observer.value.call(l.callee&&l.callee.component?l.callee.component:e._setterScope?e._setterScope:window,t))}o.length&&this.affectChanges(o.length)}},establishUpdateBindings:function(e,t,n){for(var r=e.toArray(),o=0;o<r.length;o++){var i=r[o];i[t]&&(n._bindings||Object.defineProperty(n,"_bindings",{value:new Set,enumerable:!1,configurable:!0,writable:!0}),n._bindings.add(i[t]),this.establishBindings(i[t],n))}},establishSelectedBinding:function(e,t,n){if(e)for(var r=e._path.split("."),o=n.getProperty(r[0]),i=t[r[0]],a=0;a<r.length-1&&"object"===(void 0===i?"undefined":_typeof(i));a++)i._bindings||Object.defineProperty(i,"_bindings",{enumerable:!1,configurable:!0,writable:!0,value:new Set}),i._bindings.add(o),o=o[r[a+1]],i=i[r[a+1]]},establishBindings:function(e,t){if(e._helperNodes)for(var n=e._path,r=e._helperNodes.toArray(),o=0;o<r.length;o++){var i=r[o]._dynamicProperty?r[o]._dynamicProperty[n]:void 0;if(i)for(var a=0;a<i.length;a++){var s=i[a].ownerElement;if(s&&"TEMPLATE"===s.tagName&&"for"===s.getAttribute("is")&&s._items){s.getAttribute("item");for(var l=0;l<s._items.length;l++){var p=t[l],c=s.getAttribute("item");p&&"object"===_typeof(s._items[l])&&this.establishBindings(s._items[l].itemProperty,_defineProperty({},c,p))}}}}for(var d in e){var m=t[d];m&&"string"!=typeof m&&"number"!=typeof m&&"boolean"!=typeof m?(m._bindings||Object.defineProperty(m,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),m._bindings.add(e[d]),"object"===_typeof(e[d])&&this.establishBindings(e[d],m)):(t._bindings||Object.defineProperty(t,"_bindings",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),t._bindings.add(e))}},removeSelectedBindingDeep:function(e,t){if(t){t._bindings&&(t._bindings.delete(e),t._bindings.size||delete t._bindings);for(var n in e){var r=t[n];r&&r._bindings&&(r._bindings.delete(e[n]),r._bindings.size||delete t._bindings),"object"===_typeof(e[n])&&r&&this.removeSelectedBindingDeep(e[n],r)}if(e._forHelpers)for(var o=e._forHelpers.toArray(),i=0;i<o.length;i++){var a=o[i];if("for"===a.getAttribute("is")){a.getAttribute("item");for(var s=a._attributes.items,l=a._items,p=0;p<l.length;p++)this.removeSelectedBindingDeep(l[p].itemProperty,s[p])}else a._propBindingObject&&t._bindings&&(t._bindings.delete(a._propBindingObject),t._bindings.size||delete t._bindings,this.removeSelectedBindingDeep(a._propBindingObject,t))}}},removeAllBindings:function(e,t){for(var n in e)t[n]&&t[n]._bindings&&(t[n]._bindings.delete(e[n]),t[n]._bindings.size||delete t[n]._bindings),t[n]&&"string"!=typeof t[n]&&LyteComponent.removeAllBindings(e[n],t[n])},affectChanges:function(e,t,n,r,o){if(e._dynamicNodes)for(var i=0;i<e._dynamicNodes.length;i++)e._dynamicNodes[i]._callee.updateNode(e._dynamicNodes[i],e._path);var a=e._path;if(e._helperNodes)for(var s=[],l=e._helperNodes.toArray(),p=0;p<l.length;p++)if(e._helperNodes.has(l[p]))if("for"===l[p].getAttribute("is")&&l[p]._items){var c=[];LyteComponent.newAddContext(l[p],c);for(var d=l[p].getAttribute("index"),m=l[p].getAttribute("item"),u=l[p]._callee,f=u.component.data[m],h=u.component.data[d],_=u._properties[m],v=u._properties[d],y=l[p]._attributes.items,g=0;g<l[p]._items.length;g++)if(u.component.data[m]=y[g],u.component.data[d]=g,u._properties[m]=l[p]._items[g].itemProperty,l[p]._items[g]._dynamicProperty[a]){s=l[p]._items[g]._dynamicProperty[a];for(var b=0;b<s.length;b++)s[b]._callee.updateNode(s[b],a)}u.component.data[m]=f,u.component.data[d]=h,u._properties[m]=_,u._properties[d]=v,LyteComponent.newRemoveContext(l[p],c)}else if("forIn"===l[p].getAttribute("is")&&l[p]._items){var C=[];LyteComponent.newAddContext(l[p],C);var A=l[p].getAttribute("key"),L=l[p].getAttribute("value"),N=l[p]._callee,w=N.component.data[L],x=N.component.data[A],S=N._properties[L],P=N._properties[A],I=l[p]._attributes.object;for(var E in l[p]._items)if(N.component.data[L]=I[E],N.component.data[A]=E,N._properties[L]=l[p]._items[E].itemProperty,l[p]._items[E]._dynamicProperty[a]){s=l[p]._items[E]._dynamicProperty[a];for(var k=0;k<s.length;k++)s[k]._callee.updateNode(s[k],a)}N.component.data[L]=w,N.component.data[A]=x,N._properties[L]=S,N._properties[A]=P,LyteComponent.newRemoveContext(l[p],C)}else{s=l[p]._dynamicProperty[e._path]||[];var O=[];LyteComponent.newAddContext(l[p],O);for(var B=0;B<s.length;B++)s[B]._callee.updateNode(s[B],e._path);LyteComponent.newRemoveContext(l[p],O)}if(e._observers)for(var j=e._observers.toArray(),H=0;H<j.length;H++){var D=j[H];D.observer.value.call(D.callee&&D.callee.component?D.callee.component:r||window,{type:"change",oldValue:n,newValue:o,item:e._path})}if(Array.isArray(e))for(var T=0;T<e.length;T++)for(var M in e[T])this.affectChanges(e[T][M],!0,n?n[T]?n[T][M]:n[T]:n,r,o?o[T]?o[T][M]:o[T]:o);else for(var V in e)this.affectChanges(e[V],!0,n?n[V]:n,r,o?o[V]:o)},getDynamicData:function(e,t){var n=this;return t.forEach(function(t,r){if(Array.isArray(t)){if(void 0===e)return;var o=n.getDynamicData.call(n,n.component.data,t);if(void 0===o)return;e=e[o]}else{if(void 0===e)return;e=e[t]}}),e},get:function(e,t,n){n||(n=[]);try{var r=t.match(/([^[\]]+|\[\])/g),o=e;n.push(r[0]);for(var i=r[0].split("."),a=0;a<i.length;a++)e=e[i[a]];for(var s=1;s<r.length;s++){var l=r[s];if(l.startsWith(".")){for(var p=l.substring(1).split("."),c=0;c<p.length;c++)e=e[p[c]];n[n.length-1]=n[n.length-1]+l}else if(l.startsWith("'")||l.startsWith('"')||!isNaN(l))isNaN(l)?n[n.length-1]=n[0]+"."+l.substring(1,l.length-1):n[n.length-1]=n[0]+"."+l,e=e[l.substring(1,l.length-1)];else{n.length;var d=this.get(o,l,n);n[0]=n[0]+"."+d,e=e[d]}}return e}catch(e){return}},getNew:function(e,t){try{var n=t.match(/([^[\]]+|\[\])/g),r=e,o=n[0].split(".");if(n.length<2){if(o.length<2)return{context:r,lastKey:o[0]};for(var i=0;i<o.length-1;i++)e=e[o[i]];return{context:e,lastKey:o[i]}}for(var a=0;a<o.length;a++)e=e[o[a]];for(var s=1;s<n.length-1;s++){var l=n[s];if(l.startsWith("."))for(var p=l.substring(1).split("."),c=0;c<p.length;c++)e=e[p[c]];else if(l.startsWith("'")||l.startsWith('"')||!isNaN(l))e=e[l.substring(1,l.length-1)];else{e=e[this.get(r,l)]}}var d=n[s];if(d.startsWith(".")){for(var m=d.substring(1).split("."),u=0;u<m.length-1;u++)e=e[m[u]];d=m[u]}else d=d.startsWith("'")||d.startsWith('"')||!isNaN(d)?d.substring(1,d.length-1):this.get(r,d);return{context:e,lastKey:d}}catch(e){return}},componentGetData:function(e){return e?this.get(e):this.data},componentSetData:function(e,t){if("string"==typeof e)this.set(e,t);else if(e instanceof Object)for(var n in e)this.set(n,e[n])},componentGetMethods:function(e){return e?this.methods[e]:this.methods},componentSetMethods:function(e,t){if("string"==typeof e)this.methods[e]=t;else if(e instanceof Object)for(var n in e)this.methods[n]=e[n]},render:function(e,t,n){if(e){var r=document.createElement(e);if(t&&r.setData(t),n){var o=document.querySelector(n);o?o.appendChild(r):console.warn("Specified outlet doesn't exist")}return r}console.error("Component name not specified")},String:{upperCaseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},lowerCaseFirstLetter:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},toCamelCase:function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})},dasherize:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},appendChild:function(e,t){LyteComponent.ignoreDisconnect=!0,e.appendChild(t),LyteComponent.ignoreDisconnect=!1},replaceWith:function(){var e=Array.from(arguments),t=e.shift();LyteComponent.ignoreDisconnect=!0,t.replaceWith.apply(t,e),LyteComponent.ignoreDisconnect=!1},insertBefore:function(e,t){LyteComponent.ignoreDisconnect=!0,e.parentNode.insertBefore(t,e||null),LyteComponent.ignoreDisconnect=!1},insertAfter:function(){var e=Array.from(arguments),t=e.shift();LyteComponent.ignoreDisconnect=!0,t.after.apply(t,e),LyteComponent.ignoreDisconnect=!1},executeMethod:function(){var e=Array.prototype.slice.call(arguments,1),t=LyteComponent.String.toCamelCase(arguments[0]);if(this.methods[t])return this.methods[t].apply(this,e);console.error(t+" method not found")},establishObserverBindings:function(e,t,n){var r=this;t&&(r=t);for(var o=0;o<e.length;o++)for(var i=e[o].properties,a=0;a<i.length;a++){var s=void 0,l=!1;-1!==i[a].indexOf(".[]")?(l=!0,s=LyteComponent.getProperty.call(this,i[a].substring(0,i[a].indexOf(".[]")),t,n)):s=LyteComponent.getProperty.call(this,i[a],t,n),s._observers||Object.defineProperty(s,"_observers",{value:new Set,enumerable:!1,writable:!0,configurable:!0}),s._observers.add({callee:r,observer:e[o],isArrayObserver:l})}},getProperty:function(e,t,n){var r=e.split("."),o=this;t?(o=n,n[r[0]]||(n[r[0]]={}),o=n[r[0]]):(o._properties[r[0]]||(o._properties[r[0]]={}),o=o._properties[r[0]]),Object.defineProperty(o,"_path",{enumerable:!1,value:r[0]});for(var i=1;i<r.length;i++)o[r[i]]||(o[r[i]]={},Object.defineProperty(o[r[i]],"_path",{enumerable:!1,value:o._path+"."+r[i]})),o=o[r[i]];return o}};Lyte.Component.render=LyteComponent.render,LyteComponent.lyteComponentsDiv=document.createElement("div"),LyteComponent.lyteComponentsDiv.setAttribute("id","lyte-components-div"),Set.prototype.toArray=function(){return"Set"===this.constructor.name?Array.from(this):Array.from(this._values)},"complete"===document.readyState||"interactive"===document.readyState?onDomContentForLyte():document.addEventListener("DOMContentLoaded",function(e){onDomContentForLyte()},!0),LyteComponent.registerHelper("unbound",function(e){return e}),LyteComponent.registerHelper("action",function(e,t,n,r){n?(e._actions=e._actions?e._actions:{},e._actions[t]||(this.createCustomEvent(t,e,r),e.removeAttribute(t))):this.createEventListeners(e,t,r)}),LyteComponent.registerHelper("lbind",function(e){return this.getData(e)}),LyteComponent.registerHelper("method",function(e,t,n){arguments[0],t=arguments[1],n=arguments[2];var r=arguments[0].component,o=t?t.ownerElement:null,i=arguments[1].nodeName;t=null;var a=Array.prototype.slice.call(arguments,3),s=function(){var e=Array.from(arguments),t=a.concat(e);return r.methods[n].apply(r,t)};if(!o)return s;o.set?o.component.methods[LyteComponent.String.toCamelCase(i)]=s:o.setMethods(LyteComponent.String.toCamelCase(i),s)}),LyteComponent.registerHelper("unescape",function(e){var t=document.createElement("div");return t.innerHTML=e,t}),LyteComponent.registerHelper("debugger",function(){}),LyteComponent.registerHelper("log",function(){console.log.apply(window,Array.from(arguments))}),LyteComponent.registerHelper("ifEquals",function(e,t){return e===t}),LyteComponent.registerHelper("if",function(e,t,n){return e?t:n}),LyteComponent.registerHelper("negate",function(e){return!e}),LyteComponent.registerHelper("ifNotEquals",function(e,t){return e!==t}),LyteComponent.registerHelper("concat",function(){for(var e="",t=arguments.length,n=0;n<t;n++)void 0!=arguments[n]&&(e+=arguments[n]);return e}),Object.defineProperty(HTMLElement.prototype,"setData",{enumerable:!1,value:function(e,t){if(this._initProperties=this._initProperties||{},"string"==typeof e)this._initProperties[e]=t;else if(e instanceof Object)for(var n in e)this._initProperties[n]=e[n]}}),Object.defineProperty(HTMLElement.prototype,"setMethods",{enumerable:!1,value:function(e,t){if(this._initMethods=this._initMethods||{},"string"==typeof e)this._initMethods[e]=t;else if(e instanceof Object)for(var n in e)this._initMethods[n]=e[n]}}),LyteComponent.registerHelper("expHandlers",function(e,t,n){if("++"==t){if("postfix"==n)return e++;if("prefix"==n)return++e}else if("--"==t){if("postfix"==n)return e--;if("prefix"==n)return--e}else{if("=="==t||"==="==t)return e==n;if("!="==t||"!=="==t)return e!=n;if("&&"==t)return e&&n;if("||"==t)return e||n;if("+"==t&&n)return e+n;if("-"==t&&n)return e-n;if("*"==t)return e*n;if("/"==t)return e/n;if("%"==t)return e%n;if("<"==t)return e<n;if(">"==t)return e>n;if("<="==t)return e<=n;if(">="==t)return e>=n;if("|"==t)return e|n;if("&"==t)return e&n;if("!"==t)return!e;if("-"==t&&!n)return-e;if("="==t)return e=n;if("+="==t)return e+=n;if("-="==t)return e-=n;if("*="==t)return e*=n;if("/="==t)return e/=n}}),Lyte.Component.register("lyte-event-listener",{_template:'<template tag-name="lyte-event-listener"></template>',_dynamicNodes:[],_observedAttributes:["eventName"],init:function(){var e=this,t=Lyte.addEventListener(this.get("eventName"),function(){var t=Array.prototype.slice.call(arguments);t.splice(0,0,"on-fire"),e.throwEvent.apply(e,t)});this.regId=t},data:function(){return{eventName:Lyte.attr("string")}},didDestroy:function(){Lyte.removeEventListener(this.regId)}});